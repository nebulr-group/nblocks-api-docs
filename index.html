
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for Nblocks API"
        >
    <title>nBlocks API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-755a5417.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;typescript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-d66f6d1b.svg" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="typescript">Typescript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#start" class="toc-h1 toc-link" data-title="Start">Start</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#how-it-works" class="toc-h2 toc-link" data-title="How it works">How it works</a>
                  </li>
                  <li>
                    <a href="#registrating-for-a-new-nblocks-app" class="toc-h2 toc-link" data-title="Registrating for a new Nblocks app">Registrating for a new Nblocks app</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#app-profile" class="toc-h1 toc-link" data-title="App Profile">App Profile</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-app-profile" class="toc-h2 toc-link" data-title="Get app profile">Get app profile</a>
                  </li>
                  <li>
                    <a href="#update-app-profile" class="toc-h2 toc-link" data-title="Update app profile">Update app profile</a>
                  </li>
                  <li>
                    <a href="#update-credentials" class="toc-h2 toc-link" data-title="Update credentials">Update credentials</a>
                  </li>
                  <li>
                    <a href="#get-credentials-state" class="toc-h2 toc-link" data-title="Get credentials state">Get credentials state</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#branding" class="toc-h1 toc-link" data-title="Branding">Branding</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#set-custom-email-template" class="toc-h2 toc-link" data-title="Set custom email template">Set custom email template</a>
                  </li>
                  <li>
                    <a href="#get-custom-email-template" class="toc-h2 toc-link" data-title="Get custom email template">Get custom email template</a>
                  </li>
                  <li>
                    <a href="#delete-custom-email-template" class="toc-h2 toc-link" data-title="Delete custom email template">Delete custom email template</a>
                  </li>
                  <li>
                    <a href="#set-custom-css" class="toc-h2 toc-link" data-title="Set custom CSS">Set custom CSS</a>
                  </li>
                  <li>
                    <a href="#get-your-custom-css" class="toc-h2 toc-link" data-title="Get your custom CSS">Get your custom CSS</a>
                  </li>
                  <li>
                    <a href="#delete-your-custom-css" class="toc-h2 toc-link" data-title="Delete your custom CSS">Delete your custom CSS</a>
                  </li>
                  <li>
                    <a href="#set-custom-translations" class="toc-h2 toc-link" data-title="Set custom Translations">Set custom Translations</a>
                  </li>
                  <li>
                    <a href="#get-your-custom-translations" class="toc-h2 toc-link" data-title="Get your custom Translations">Get your custom Translations</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user-authentication" class="toc-h1 toc-link" data-title="User authentication">User authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authorize" class="toc-h2 toc-link" data-title="Authorize">Authorize</a>
                  </li>
                  <li>
                    <a href="#get-tokens" class="toc-h2 toc-link" data-title="Get tokens">Get tokens</a>
                  </li>
                  <li>
                    <a href="#short-hand-authorize" class="toc-h2 toc-link" data-title="Short hand authorize">Short hand authorize</a>
                  </li>
                  <li>
                    <a href="#short-hand-signup" class="toc-h2 toc-link" data-title="Short hand signup">Short hand signup</a>
                  </li>
                  <li>
                    <a href="#shorthand-get-tokens" class="toc-h2 toc-link" data-title="Shorthand get tokens">Shorthand get tokens</a>
                  </li>
                  <li>
                    <a href="#handover-code" class="toc-h2 toc-link" data-title="Handover code">Handover code</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#access" class="toc-h1 toc-link" data-title="Access">Access</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-roles" class="toc-h2 toc-link" data-title="List roles">List roles</a>
                  </li>
                  <li>
                    <a href="#create-a-role" class="toc-h2 toc-link" data-title="Create a role">Create a role</a>
                  </li>
                  <li>
                    <a href="#update-a-role" class="toc-h2 toc-link" data-title="Update a role">Update a role</a>
                  </li>
                  <li>
                    <a href="#delete-a-role" class="toc-h2 toc-link" data-title="Delete a role">Delete a role</a>
                  </li>
                  <li>
                    <a href="#list-privileges" class="toc-h2 toc-link" data-title="List privileges">List privileges</a>
                  </li>
                  <li>
                    <a href="#create-a-privilege" class="toc-h2 toc-link" data-title="Create a privilege">Create a privilege</a>
                  </li>
                  <li>
                    <a href="#update-a-privilege" class="toc-h2 toc-link" data-title="Update a privilege">Update a privilege</a>
                  </li>
                  <li>
                    <a href="#delete-a-privilege" class="toc-h2 toc-link" data-title="Delete a privilege">Delete a privilege</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#federation-connections" class="toc-h1 toc-link" data-title="Federation connections">Federation connections</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-connections" class="toc-h2 toc-link" data-title="List all connections">List all connections</a>
                  </li>
                  <li>
                    <a href="#get-connection-by-id" class="toc-h2 toc-link" data-title="Get connection by id">Get connection by id</a>
                  </li>
                  <li>
                    <a href="#create-new-connection" class="toc-h2 toc-link" data-title="Create new connection">Create new connection</a>
                  </li>
                  <li>
                    <a href="#update-connection" class="toc-h2 toc-link" data-title="Update connection">Update connection</a>
                  </li>
                  <li>
                    <a href="#delete-a-connection" class="toc-h2 toc-link" data-title="Delete a connection">Delete a connection</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-users-by-tenant" class="toc-h2 toc-link" data-title="List users by tenant">List users by tenant</a>
                  </li>
                  <li>
                    <a href="#get-user-by-id" class="toc-h2 toc-link" data-title="Get user by id">Get user by id</a>
                  </li>
                  <li>
                    <a href="#list-tenants-by-user" class="toc-h2 toc-link" data-title="List tenants by user">List tenants by user</a>
                  </li>
                  <li>
                    <a href="#create-user" class="toc-h2 toc-link" data-title="Create user">Create user</a>
                  </li>
                  <li>
                    <a href="#update-user" class="toc-h2 toc-link" data-title="Update user">Update user</a>
                  </li>
                  <li>
                    <a href="#reset-user-password" class="toc-h2 toc-link" data-title="Reset user password">Reset user password</a>
                  </li>
                  <li>
                    <a href="#delete-user" class="toc-h2 toc-link" data-title="Delete user">Delete user</a>
                  </li>
                  <li>
                    <a href="#user-management-portal" class="toc-h2 toc-link" data-title="User management portal">User management portal</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#tenants" class="toc-h1 toc-link" data-title="Tenants">Tenants</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-tenants" class="toc-h2 toc-link" data-title="List all tenants">List all tenants</a>
                  </li>
                  <li>
                    <a href="#get-tenant-by-id" class="toc-h2 toc-link" data-title="Get tenant by id">Get tenant by id</a>
                  </li>
                  <li>
                    <a href="#create-new-tenant" class="toc-h2 toc-link" data-title="Create new tenant">Create new tenant</a>
                  </li>
                  <li>
                    <a href="#update-tenant" class="toc-h2 toc-link" data-title="Update tenant">Update tenant</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#feature-flags" class="toc-h1 toc-link" data-title="Feature flags">Feature flags</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#evaluate-a-flag" class="toc-h2 toc-link" data-title="Evaluate a flag">Evaluate a flag</a>
                  </li>
                  <li>
                    <a href="#evaluate-flags-in-bulk" class="toc-h2 toc-link" data-title="Evaluate flags in bulk">Evaluate flags in bulk</a>
                  </li>
                  <li>
                    <a href="#list-segments" class="toc-h2 toc-link" data-title="List segments">List segments</a>
                  </li>
                  <li>
                    <a href="#create-a-segment" class="toc-h2 toc-link" data-title="Create a segment">Create a segment</a>
                  </li>
                  <li>
                    <a href="#update-a-segment" class="toc-h2 toc-link" data-title="Update a segment">Update a segment</a>
                  </li>
                  <li>
                    <a href="#delete-a-segment" class="toc-h2 toc-link" data-title="Delete a segment">Delete a segment</a>
                  </li>
                  <li>
                    <a href="#list-flags" class="toc-h2 toc-link" data-title="List flags">List flags</a>
                  </li>
                  <li>
                    <a href="#create-a-flag" class="toc-h2 toc-link" data-title="Create a flag">Create a flag</a>
                  </li>
                  <li>
                    <a href="#update-a-flag" class="toc-h2 toc-link" data-title="Update a flag">Update a flag</a>
                  </li>
                  <li>
                    <a href="#delete-a-flag" class="toc-h2 toc-link" data-title="Delete a flag">Delete a flag</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payments" class="toc-h1 toc-link" data-title="Payments">Payments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-plans" class="toc-h2 toc-link" data-title="List plans">List plans</a>
                  </li>
                  <li>
                    <a href="#create-a-plan" class="toc-h2 toc-link" data-title="Create a plan">Create a plan</a>
                  </li>
                  <li>
                    <a href="#get-a-plan" class="toc-h2 toc-link" data-title="Get a plan">Get a plan</a>
                  </li>
                  <li>
                    <a href="#update-a-plan" class="toc-h2 toc-link" data-title="Update a plan">Update a plan</a>
                  </li>
                  <li>
                    <a href="#delete-a-plan" class="toc-h2 toc-link" data-title="Delete a plan">Delete a plan</a>
                  </li>
                  <li>
                    <a href="#list-taxes" class="toc-h2 toc-link" data-title="List taxes">List taxes</a>
                  </li>
                  <li>
                    <a href="#create-a-tax" class="toc-h2 toc-link" data-title="Create a tax">Create a tax</a>
                  </li>
                  <li>
                    <a href="#get-a-tax" class="toc-h2 toc-link" data-title="Get a tax">Get a tax</a>
                  </li>
                  <li>
                    <a href="#update-a-tax" class="toc-h2 toc-link" data-title="Update a tax">Update a tax</a>
                  </li>
                  <li>
                    <a href="#delete-a-tax" class="toc-h2 toc-link" data-title="Delete a tax">Delete a tax</a>
                  </li>
                  <li>
                    <a href="#connect-to-a-payment-provider" class="toc-h2 toc-link" data-title="Connect to a payment provider">Connect to a payment provider</a>
                  </li>
                  <li>
                    <a href="#subscription-portal-select-plan" class="toc-h2 toc-link" data-title="Subscription portal - Select plan">Subscription portal - Select plan</a>
                  </li>
                  <li>
                    <a href="#get-tenant-payment-details" class="toc-h2 toc-link" data-title="Get tenant payment details">Get tenant payment details</a>
                  </li>
                  <li>
                    <a href="#set-tenant-plan-details" class="toc-h2 toc-link" data-title="Set tenant plan details">Set tenant plan details</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#import-data" class="toc-h1 toc-link" data-title="Import data">Import data</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#import-tenants" class="toc-h2 toc-link" data-title="Import tenants">Import tenants</a>
                  </li>
                  <li>
                    <a href="#validate-import-tenants-data" class="toc-h2 toc-link" data-title="Validate import tenants data">Validate import tenants data</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhook" class="toc-h1 toc-link" data-title="Webhook">Webhook</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#tenant-created-event" class="toc-h2 toc-link" data-title="Tenant created event">Tenant created event</a>
                  </li>
                  <li>
                    <a href="#tenant-updated-event" class="toc-h2 toc-link" data-title="Tenant updated event">Tenant updated event</a>
                  </li>
                  <li>
                    <a href="#tenant-user-created-event" class="toc-h2 toc-link" data-title="Tenant user created event">Tenant user created event</a>
                  </li>
                  <li>
                    <a href="#tenant-user-updated-event" class="toc-h2 toc-link" data-title="Tenant user updated event">Tenant user updated event</a>
                  </li>
                  <li>
                    <a href="#tenant-user-deleted-event" class="toc-h2 toc-link" data-title="Tenant user deleted event">Tenant user deleted event</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#models" class="toc-h1 toc-link" data-title="Models">Models</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#app-profile-model" class="toc-h2 toc-link" data-title="App profile model">App profile model</a>
                  </li>
                  <li>
                    <a href="#credentials-state-model" class="toc-h2 toc-link" data-title="Credentials state model">Credentials state model</a>
                  </li>
                  <li>
                    <a href="#tenant-model" class="toc-h2 toc-link" data-title="Tenant model">Tenant model</a>
                  </li>
                  <li>
                    <a href="#tenant-payment-status" class="toc-h2 toc-link" data-title="Tenant payment status">Tenant payment status</a>
                  </li>
                  <li>
                    <a href="#tenant-payment-details" class="toc-h2 toc-link" data-title="Tenant payment details">Tenant payment details</a>
                  </li>
                  <li>
                    <a href="#tenant-plan-details" class="toc-h2 toc-link" data-title="Tenant plan details">Tenant plan details</a>
                  </li>
                  <li>
                    <a href="#tenant-user-model" class="toc-h2 toc-link" data-title="Tenant user model">Tenant user model</a>
                  </li>
                  <li>
                    <a href="#tokens-response" class="toc-h2 toc-link" data-title="Tokens response">Tokens response</a>
                  </li>
                  <li>
                    <a href="#access-token-model" class="toc-h2 toc-link" data-title="Access token model">Access token model</a>
                  </li>
                  <li>
                    <a href="#id-token-model" class="toc-h2 toc-link" data-title="Id token model">Id token model</a>
                  </li>
                  <li>
                    <a href="#access-role-model" class="toc-h2 toc-link" data-title="Access role model">Access role model</a>
                  </li>
                  <li>
                    <a href="#access-privilege-model" class="toc-h2 toc-link" data-title="Access privilege model">Access privilege model</a>
                  </li>
                  <li>
                    <a href="#federation-connection-model" class="toc-h2 toc-link" data-title="Federation connection model">Federation connection model</a>
                  </li>
                  <li>
                    <a href="#import-tenant-response" class="toc-h2 toc-link" data-title="Import tenant response">Import tenant response</a>
                  </li>
                  <li>
                    <a href="#validate-import-tenant-response" class="toc-h2 toc-link" data-title="Validate import tenant response">Validate import tenant response</a>
                  </li>
                  <li>
                    <a href="#plan-model" class="toc-h2 toc-link" data-title="Plan model">Plan model</a>
                  </li>
                  <li>
                    <a href="#price-model" class="toc-h2 toc-link" data-title="Price model">Price model</a>
                  </li>
                  <li>
                    <a href="#tax-model" class="toc-h2 toc-link" data-title="Tax model">Tax model</a>
                  </li>
                  <li>
                    <a href="#feature-flags-evaluation-context" class="toc-h2 toc-link" data-title="Feature flags evaluation context">Feature flags evaluation context</a>
                  </li>
                  <li>
                    <a href="#feature-flags-segment" class="toc-h2 toc-link" data-title="Feature flags segment">Feature flags segment</a>
                  </li>
                  <li>
                    <a href="#feature-flags-segment-target" class="toc-h2 toc-link" data-title="Feature flags segment target">Feature flags segment target</a>
                  </li>
                  <li>
                    <a href="#feature-flags-flag" class="toc-h2 toc-link" data-title="Feature flags flag">Feature flags flag</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
          <li>
            <a href="#changelog" class="toc-h1 toc-link" data-title="Changelog">Changelog</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#4-august-2024" class="toc-h2 toc-link" data-title="4 August 2024">4 August 2024</a>
                  </li>
                  <li>
                    <a href="#12-july-2024" class="toc-h2 toc-link" data-title="12 July 2024">12 July 2024</a>
                  </li>
                  <li>
                    <a href="#18-june-2024" class="toc-h2 toc-link" data-title="18 June 2024">18 June 2024</a>
                  </li>
                  <li>
                    <a href="#7-june-2024" class="toc-h2 toc-link" data-title="7 June 2024">7 June 2024</a>
                  </li>
                  <li>
                    <a href="#19-may-2024" class="toc-h2 toc-link" data-title="19 May 2024">19 May 2024</a>
                  </li>
                  <li>
                    <a href="#4-may-2024" class="toc-h2 toc-link" data-title="4 May 2024">4 May 2024</a>
                  </li>
                  <li>
                    <a href="#16-april-2024" class="toc-h2 toc-link" data-title="16 April 2024">16 April 2024</a>
                  </li>
                  <li>
                    <a href="#23-march-2024" class="toc-h2 toc-link" data-title="23 March 2024">23 March 2024</a>
                  </li>
                  <li>
                    <a href="#21-feb-2024" class="toc-h2 toc-link" data-title="21 Feb 2024">21 Feb 2024</a>
                  </li>
                  <li>
                    <a href="#20-december-2023" class="toc-h2 toc-link" data-title="20 December 2023">20 December 2023</a>
                  </li>
                  <li>
                    <a href="#10-december-2023" class="toc-h2 toc-link" data-title="10 December 2023">10 December 2023</a>
                  </li>
                  <li>
                    <a href="#28-november-2023" class="toc-h2 toc-link" data-title="28 November 2023">28 November 2023</a>
                  </li>
                  <li>
                    <a href="#23-october-2023" class="toc-h2 toc-link" data-title="23 October 2023">23 October 2023</a>
                  </li>
                  <li>
                    <a href="#9-october-2023" class="toc-h2 toc-link" data-title="9 October 2023">9 October 2023</a>
                  </li>
                  <li>
                    <a href="#29-september-2023" class="toc-h2 toc-link" data-title="29 September 2023">29 September 2023</a>
                  </li>
                  <li>
                    <a href="#6-september-2023" class="toc-h2 toc-link" data-title="6 September 2023">6 September 2023</a>
                  </li>
                  <li>
                    <a href="#16-august-2023" class="toc-h2 toc-link" data-title="16 August 2023">16 August 2023</a>
                  </li>
                  <li>
                    <a href="#july-2023" class="toc-h2 toc-link" data-title="July 2023">July 2023</a>
                  </li>
                  <li>
                    <a href="#june-2023" class="toc-h2 toc-link" data-title="June 2023">June 2023</a>
                  </li>
                  <li>
                    <a href="#may-2023" class="toc-h2 toc-link" data-title="May 2023">May 2023</a>
                  </li>
                  <li>
                    <a href="#april-2023" class="toc-h2 toc-link" data-title="April 2023">April 2023</a>
                  </li>
                  <li>
                    <a href="#march-2023" class="toc-h2 toc-link" data-title="March 2023">March 2023</a>
                  </li>
                  <li>
                    <a href="#october-2023" class="toc-h2 toc-link" data-title="October 2023">October 2023</a>
                  </li>
                  <li>
                    <a href="#september-2023" class="toc-h2 toc-link" data-title="September 2023">September 2023</a>
                  </li>
                  <li>
                    <a href="#august-2023" class="toc-h2 toc-link" data-title="August 2023">August 2023</a>
                  </li>
                  <li>
                    <a href="#july-2023-2" class="toc-h2 toc-link" data-title="July 2023">July 2023</a>
                  </li>
                  <li>
                    <a href="#june-2023-2" class="toc-h2 toc-link" data-title="June 2023">June 2023</a>
                  </li>
                  <li>
                    <a href="#may-2023-2" class="toc-h2 toc-link" data-title="May 2023">May 2023</a>
                  </li>
                  <li>
                    <a href="#april-2023-2" class="toc-h2 toc-link" data-title="April 2023">April 2023</a>
                  </li>
                  <li>
                    <a href="#march-2023-2" class="toc-h2 toc-link" data-title="March 2023">March 2023</a>
                  </li>
                  <li>
                    <a href="#february-2023" class="toc-h2 toc-link" data-title="February 2023">February 2023</a>
                  </li>
                  <li>
                    <a href="#october-2022" class="toc-h2 toc-link" data-title="October 2022">October 2022</a>
                  </li>
                  <li>
                    <a href="#september-2022" class="toc-h2 toc-link" data-title="September 2022">September 2022</a>
                  </li>
                  <li>
                    <a href="#august-2022" class="toc-h2 toc-link" data-title="August 2022">August 2022</a>
                  </li>
                  <li>
                    <a href="#may-2022" class="toc-h2 toc-link" data-title="May 2022">May 2022</a>
                  </li>
                  <li>
                    <a href="#february-2022" class="toc-h2 toc-link" data-title="February 2022">February 2022</a>
                  </li>
                  <li>
                    <a href="#january-2022" class="toc-h2 toc-link" data-title="January 2022">January 2022</a>
                  </li>
                  <li>
                    <a href="#december-2021" class="toc-h2 toc-link" data-title="December 2021">December 2021</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='start'>Start</h1>
<p>This documentation describes the all functionality available through the HTTP REST api and the available low level clients that wraps this functionality for different programming languages.</p>

<p>All calls to Nblocks are encrypted over HTTPS.</p>

<p>If you wish to go back to the high level and plug-n-play documentation click <a href="https://nebulr-group.github.io/nblocks-docs">here</a></p>
<h1 id='authentication'>Authentication</h1><h2 id='how-it-works'>How it works</h2>
<blockquote>
<p>Request example with api key</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NblocksClient</span><span class="p">(</span><span class="nx">YOUR_APP_API_KEY</span><span class="p">);</span>
<span class="k">await</span> <span class="k">new</span> <span class="nx">client</span><span class="p">.</span><span class="nx">some</span><span class="p">.</span><span class="nx">cool</span><span class="p">.</span><span class="kd">function</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://someapi.com/endpoint'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<p>All calls to Nblocks apis requires you to authorize yourself as a valid app, either with your unique App ID or more commonly your secret API key. You should have received these keys upon registration.
The apis expect you to authorize each call by including your api key in the HTTP headers.</p>

<p><code>x-api-key: YOUR_APP_API_KEY</code></p>

<p>This should not be confused with your users authenticating. When they login into your app they authenticate with their own credentails using a Oauth 2.0 <a href="#user-authentication">flow</a>.</p>
<h2 id='registrating-for-a-new-nblocks-app'>Registrating for a new Nblocks app</h2><h3 id='creating-via-nblocks-admin'>Creating via Nblocks Admin</h3>
<p>Go to <a href="https://admin-stage.nblocks.cloud">Nblocks Admin</a> and signup for a new account if you don&#39;t already have one.</p>

<p>Once you have logged in to your account you will be able to create new apps. Use the API key and the App ID to start calling our APIs.</p>
<h3 id='creating-via-terminal'>Creating via terminal</h3>
<p><code>npx @nebulr-group/nblocks-cli create-app</code></p>

<p>The NPX tool will create a new folder and place a <code>.env</code> file containing your Nblocks API key and download a copy of your app profile into a file <code>app-configuration.json</code>. Use this API key from the env file and the App ID from your app profile to start calling our APIs.</p>

<aside class="success">
In all future request examples, we assume you have access to your App API key and your App ID.
</aside>
<h1 id='app-profile'>App Profile</h1>
<p>As the developer, the App and its profile is your entrypoint to Nblocks. This is your unique set of settings to tailor the Nblocks experience. You can have several different apps, e.g. one for production and one for testing. This helps organize and separate configurations from different stages in your development process.</p>
<h2 id='get-app-profile'>Get app profile</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">getAppProfile</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/app'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356282"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My app"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY_APP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"apiUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uiUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8100"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emailSenderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My App"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emailSenderEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"noreply@myapp.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"webhookUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.example.com/webhook"</span><span class="w">
    </span><span class="nl">"stripeEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentsAutoRedirect"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passkeysEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"magicLinkEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mfaEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureMarketplaceEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"googleSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureAdSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"linkedinSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"githubSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"facebookSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"onboardingFlow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B2B"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tenantSelfSignup"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cloudViews"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirectUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://localhost:8080/auth/oauth-callback"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"defaultCallbackUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8080/auth/oauth-callback"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://public.nblocks.dev/assets/logos/nblocks-logo-black.svg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"websiteUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"privacyPolicyUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accessTokenTTL"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"refreshTokenTTL"</span><span class="p">:</span><span class="w"> </span><span class="mi">604800</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Gets the complete <code>App</code> model of your app.
The app is your top most entity and holds all configurations for how your App interacts with the platform in any sub call. 
Use this response data to alter your model and push back.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/app</code></p>
<h3 id='headers'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>Your <a href="#app-profile-model">App profile model</a></p>
<h2 id='update-app-profile'>Update app profile</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">updateAppProfile</span><span class="p">({</span><span class="na">logo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://www.example.com/another_logo.png</span><span class="dl">"</span><span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://account-api.nebulr-core.com/app'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "logo": "https://www.example.com/another_logo.png"
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356282"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My app"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY_APP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"apiUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uiUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8100"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emailSenderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My App"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emailSenderEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"noreply@myapp.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"webhookUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.example.com/webhook"</span><span class="w">
    </span><span class="nl">"stripeEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentsAutoRedirect"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passkeysEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"magicLinkEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mfaEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureMarketplaceEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"googleSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureAdSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"linkedinSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"githubSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"facebookSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"onboardingFlow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B2B"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tenantSelfSignup"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cloudViews"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirectUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://localhost:8080/auth/oauth-callback"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"defaultCallbackUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8080/auth/oauth-callback"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://public.nblocks.dev/assets/logos/nblocks-logo-black.svg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"websiteUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"privacyPolicyUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accessTokenTTL"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"refreshTokenTTL"</span><span class="p">:</span><span class="w"> </span><span class="mi">604800</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>You can update the app with the same JSON you got from <code>Get app model</code> or just provide the field you want to update</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>PUT https://account-api.nebulr-core.com/app</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Optional</td>
<td>Name of the app</td>
</tr>
<tr>
<td>apiUrl</td>
<td>string</td>
<td>Optional</td>
<td>URL to your api (to receive webhooks etc).</td>
</tr>
<tr>
<td>uiUrl</td>
<td>string</td>
<td>Optional</td>
<td>URL to your frontend app (for onboarding redirects etc).</td>
</tr>
<tr>
<td>webhookUrl</td>
<td>string</td>
<td>Optional</td>
<td>Enable webhook and events to be sent to this url</td>
</tr>
<tr>
<td>logo</td>
<td>string</td>
<td>Optional</td>
<td>URL to your logo</td>
</tr>
<tr>
<td>websiteUrl</td>
<td>string</td>
<td>Optional</td>
<td>URL to your website or landing page. E.g. Branded emails will link to this URL, checkout process will redirect to <code>/payment-success</code> and <code>/payment-cancel</code></td>
</tr>
<tr>
<td>privacyPolicyUrl</td>
<td>string</td>
<td>Optional</td>
<td>URL to a page on your website containing a Privacy policy for your app users. E.g. checkout process will link to this url.</td>
</tr>
<tr>
<td>termsOfServiceUrl</td>
<td>string</td>
<td>Optional</td>
<td>URL to a page on your website containing a Terms of service for your app users. E.g. checkout process will link to this url.</td>
</tr>
<tr>
<td>emailSenderName</td>
<td>string</td>
<td>Optional</td>
<td>Emails sent from Nblocks will have this sender name</td>
</tr>
<tr>
<td>emailSenderEmail</td>
<td>string</td>
<td>Optional</td>
<td>Emails sent from Nblocks will have this sender email. You&#39;ll have to verify this email before</td>
</tr>
<tr>
<td>onboardingFlow</td>
<td>OnboardingFlow</td>
<td>Optional</td>
<td>Configure how users will be onboarded</td>
</tr>
<tr>
<td>cloudViews</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to use a UI provided by NBlocks instead of your own</td>
</tr>
<tr>
<td>tenantSelfSignup</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow users to signup for new workspaces themselves</td>
</tr>
<tr>
<td>redirectUris</td>
<td>string[]</td>
<td>Optional</td>
<td>Allowed redirect uris</td>
</tr>
<tr>
<td>defaultCallbackUri</td>
<td>string</td>
<td>Optional</td>
<td>Default handover/callback uri used by Nblocks</td>
</tr>
<tr>
<td>stripeEnabled</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow payments through Stripe for your users</td>
</tr>
<tr>
<td>paymentsAutoRedirect</td>
<td>boolean</td>
<td>Optional</td>
<td>Activates redirect to select payments plans and takes a user to selection of payment plans directly after signup or after a trial has ended.</td>
</tr>
<tr>
<td>passkeysEnabled</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow your users to login with passkeys</td>
</tr>
<tr>
<td>magicLinkEnabled</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow your users to login with Magic-Link</td>
</tr>
<tr>
<td>mfaEnabled</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow your tenants to use multi-factor authentication</td>
</tr>
<tr>
<td>azureMarketplaceEnabled</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow your users to register through Azure marketplace</td>
</tr>
<tr>
<td>googleSsoEnabled</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow your users to login using Google SSO</td>
</tr>
<tr>
<td>linkedinSsoEnabled</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow your users to login using LinkedIn SSO</td>
</tr>
<tr>
<td>githubSsoEnabled</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow your users to login using Github SSO</td>
</tr>
<tr>
<td>facebookSsoEnabled</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow your users to login using Facebook SSO</td>
</tr>
<tr>
<td>azureAdSsoEnabled</td>
<td>boolean</td>
<td>Optional</td>
<td>Toggle this to true if you want to allow your users to login using Azure SSO</td>
</tr>
<tr>
<td>accessTokenTTL</td>
<td>number</td>
<td>Optional</td>
<td>Configure the access token lifetime in seconds</td>
</tr>
<tr>
<td>refreshTokenTTL</td>
<td>number</td>
<td>Optional</td>
<td>Configure the refresh token lifetime in seconds</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>Your <a href="#app-profile-model">App profile model</a></p>
<h2 id='update-credentials'>Update credentials</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">updateCredentials</span><span class="p">({</span>
    <span class="na">googleClientId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XXXXXXX</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">googleClientSecret</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XXXXXXX</span><span class="dl">"</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://account-api.nebulr-core.com/app/credentials'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "googleClientId": "XXXXXXX",
    "googleClientSecret": "XXXXXXX"
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"stripeCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureMarketplaceCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureAdSsoCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"googleSsoCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Store sensitive credentials for your app so NBlocks can authorize with 3d party services on your behalf.</p>

<p>These credentials are never outputted back again</p>

<p>E.g. Stripe integration and social login providers like Google and Microsoft Azure AD.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>PUT https://account-api.nebulr-core.com/app/credentials</code></p>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>stripeSecretKey</td>
<td>string</td>
<td>Optional</td>
<td>Stripe integration, secret key</td>
</tr>
<tr>
<td>stripePublicKey</td>
<td>string</td>
<td>Optional</td>
<td>Stripe integration, public key</td>
</tr>
<tr>
<td>microsoftAzureMarketplaceClientId</td>
<td>string</td>
<td>Optional</td>
<td>Microsoft Azure Marketplace integration App</td>
</tr>
<tr>
<td>microsoftAzureMarketplaceClientSecret</td>
<td>string</td>
<td>Optional</td>
<td>Microsoft Azure Marketplace integration App</td>
</tr>
<tr>
<td>microsoftAzureMarketplaceTenantId</td>
<td>string</td>
<td>Optional</td>
<td>Microsoft Azure Marketplace integration App</td>
</tr>
<tr>
<td>googleClientId</td>
<td>string</td>
<td>Optional</td>
<td>Google social login</td>
</tr>
<tr>
<td>googleClientSecret</td>
<td>string</td>
<td>Optional</td>
<td>Google social login</td>
</tr>
<tr>
<td>microsoftAzureADClientId</td>
<td>string</td>
<td>Optional</td>
<td>MS Azure AD SSO</td>
</tr>
<tr>
<td>microsoftAzureADClientSecret</td>
<td>string</td>
<td>Optional</td>
<td>MS Azure AD SSO</td>
</tr>
<tr>
<td>microsoftAzureADTenantId</td>
<td>string</td>
<td>Optional</td>
<td>MS Azure AD SSO</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>Your <a href="#credentials-state-model">Credentials state model</a></p>
<h2 id='get-credentials-state'>Get credentials state</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">credentialsState</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">getCredentialsState</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/app/credentialsState'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"stripeCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureMarketplaceCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureAdSsoCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"googleSsoCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Although the credentials are never displayed again, you can always get their states to confirm they&#39;ve been added.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/app/credentialsState</code></p>
<h3 id='headers-2'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>Your <a href="#credentials-state-model">Credentials state model</a></p>
<h1 id='branding'>Branding</h1>
<p>You can change the looks of Nblocks by changing your app&#39;s branding.</p>

<p>Nblocks supports these different kinds of branding.</p>

<ul>
<li>Custom email templates for emails sent to your users via Nblock</li>
<li>Custom CSS for the Nblocks hosted views that you embedd in your application</li>
<li>Custom translations for the Nblocks hosted views that you embedd in your application</li>
</ul>
<h2 id='set-custom-email-template'>Set custom email template</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="nx">TBD</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://communication-api.nebulr-core.com/email/template/SIGNUP'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "type": "SIGNUP", 
    "testRecipient": "john@doe.com", 
    "content": "&lt;h1&gt;Signup&lt;/h1&gt;&lt;a href=\"{{ctaUrl}}\"&gt;Click here&lt;/a&gt;"
}'</span>
</code></pre></div>
<p>Overriding one of the pre defined templates can be done easily. When you override a template, Nblocks will use this content for all languages.</p>

<table><thead>
<tr>
<th>Templates</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RESET-PASSWORD</td>
<td>Sent to the user when the user requests to set a new password</td>
</tr>
<tr>
<td>SIGNUP</td>
<td>Sent when a user sign up for a new tenant</td>
</tr>
<tr>
<td>INVITE_NEW</td>
<td>Sent when a new user is invited to a tenant</td>
</tr>
<tr>
<td>INVITE_EXISTING</td>
<td>Sent when an existing user of other tenants are invited to a tenant</td>
</tr>
<tr>
<td>PAYMENT_FAILURE</td>
<td>Sent to the tenant owner if in case of any subscription payment failures</td>
</tr>
<tr>
<td>BASE</td>
<td>This template is used when you send transactional emails yourself through the api.</td>
</tr>
</tbody></table>

<p>The HTML content supports variables that are injected when rendering the template. Except for the <code>ctaUrl</code> variable, which contains a unique link if the mail asks the user to perform an action, these are not required and can be considered just as helpers.
Variables in themplates, use <code>&lt;h1&gt;{{variable}}&lt;/h1&gt;</code> to inject it in the content html.</p>

<table><thead>
<tr>
<th>Variable</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>appName</td>
<td><code>My app</code></td>
<td>Your app name</td>
</tr>
<tr>
<td>appLogo</td>
<td><code>https://url-to-logo.png</code></td>
<td>Your app logo url</td>
</tr>
<tr>
<td>appUrl</td>
<td><code>https://url-to-app.com</code></td>
<td>A url to your app frontend</td>
</tr>
<tr>
<td>emailTitle</td>
<td><code>Reset your password</code></td>
<td>The title of the email. Comes from Nblocks standard texts</td>
</tr>
<tr>
<td>emailBody</td>
<td><code>To reset your password, please click the button...</code></td>
<td>The content of the email. Comes from Nblocks standard texts</td>
</tr>
<tr>
<td>ctaTitle</td>
<td><code>Reset password</code></td>
<td>The Call-to-action button title. Comes from Nblocks standard texts</td>
</tr>
<tr>
<td>ctaUrl</td>
<td><code>https://unique-link...</code></td>
<td>The Call-to-action button link. A unique link relevant to this email</td>
</tr>
<tr>
<td>fallBackButtonText</td>
<td><code>Button not working? Click the li...</code></td>
<td>A title to a fallback link displayed under the CTA button for older email clients</td>
</tr>
<tr>
<td>currentYear</td>
<td><code>2023</code></td>
<td>Current year</td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP Request</h3>
<p><code>PUT https://communication-api.nebulr-core.com/email/template/:templateName</code></p>
<h3 id='headers'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>templateName</td>
<td>Any of the available template names listed above</td>
</tr>
</tbody></table>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>Any of the available template names listed above</td>
</tr>
<tr>
<td>testRecipient</td>
<td>string</td>
<td>No</td>
<td>If provided, Nblocks will send a test email with the updated template</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>Yes</td>
<td>The template content in HTML</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h2 id='get-custom-email-template'>Get custom email template</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="nx">TBD</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://communication-api.nebulr-core.com/email/template/SIGNUP'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SIGNUP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;h1&gt;Signup&lt;/h1&gt;&lt;a href=</span><span class="se">\"</span><span class="s2">{{ctaUrl}}</span><span class="se">\"</span><span class="s2">&gt;Click here&lt;/a&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a custom email template</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://communication-api.nebulr-core.com/email/template/:templateName</code></p>
<h3 id='headers-2'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>templateName</td>
<td>Any of the available template names listed in <a href="#set-custom-email-template">set custom email template</a></td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>The template name</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>The template content in HTML</td>
</tr>
</tbody></table>
<h2 id='delete-custom-email-template'>Delete custom email template</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="nx">TBD</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> DELETE <span class="s1">'https://communication-api.nebulr-core.com/email/template/SIGNUP'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<p>Deleting a custom template will restore Nblocks default template.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>DELETE https://communication-api.nebulr-core.com/email/template/:templateName</code></p>
<h3 id='headers-3'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>templateName</td>
<td>Any of the available template names listed in <a href="#set-custom-email-template">set custom email template</a></td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h2 id='set-custom-css'>Set custom CSS</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://admin-api.nblocks.cloud/brand/css'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "content": "html,body { background-color: red; }"
}'</span>
</code></pre></div>
<p>The CSS is used by Nblocks Cloud views, like Nblocks Login and User Management portal.
Use the <a href="https://github.com/nebulr-group/nblocks-api-docs/blob/main/docs-resources/custom-style.css">example css</a> as a base to start set your own brand.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://admin-api.nblocks.cloud/brand/css</code></p>
<h3 id='headers-4'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>content</td>
<td>string</td>
<td>Yes</td>
<td>The CSS content</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 201</code></p>
<h2 id='get-your-custom-css'>Get your custom CSS</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://admin-api.nblocks.cloud/brand/css'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"html,body { background-color: red; }"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The CSS is used by Nblocks Cloud views, like Nblocks Login and User Management portal.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://admin-api.nblocks.cloud/brand/css</code></p>
<h3 id='headers-5'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>content</td>
<td>string</td>
<td>The CSS content</td>
</tr>
</tbody></table>
<h2 id='delete-your-custom-css'>Delete your custom CSS</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> DELETE <span class="s1">'https://admin-api.nblocks.cloud/brand/css'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<p>Deleting a custom CSS file will restore Nblocks to the default styling.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>DELETE https://admin-api.nblocks.cloud/brand/css</code></p>
<h3 id='headers-6'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h2 id='set-custom-translations'>Set custom Translations</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="nx">TBD</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://backendless.nblocks.cloud/brand/translations'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "Login": "Log in",
    "Email address": "Email"
}'</span>
</code></pre></div>
<p>The translations are used by Nblocks Cloud views, like Nblocks Login and User Management portal. Use <a href="https://github.com/nebulr-group/nblocks-react/blob/1.x.-2.x-main/src/translations/en.json">this template</a> to understand what translations can be changed.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST https://backendless.nblocks.cloud/brand/translations</code></p>
<h3 id='headers-7'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='body-parameters-3'>Body Parameters</h3>
<p>Your translations content as JSON. <a href="https://github.com/nebulr-group/nblocks-react/blob/1.x.-2.x-main/src/translations/en.json">See example</a></p>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h2 id='get-your-custom-translations'>Get your custom Translations</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="nx">TBD</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://backendless.nblocks.cloud/brand/translations'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Log in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The translations are used by Nblocks Cloud views, like Nblocks Login and User Management portal.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET https://backendless.nblocks.cloud/brand/translations</code></p>
<h3 id='headers-8'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>Your translations content as JSON</p>
<h1 id='user-authentication'>User authentication</h1>
<p>User authentication is done using Nblocks Auth Service that supports Oauth 2.0 / OpenID Connect and tokens are issued as JWTs.</p>

<p><strong>At a glance, the authentication process looks like this:</strong></p>

<ol>
<li>You initiate the login process by redirecting the user to the <code>/authorize</code> endpoint (or the simpler <a href="#short-hand-authorize">shorthand</a> <code>/login</code> and <code>/signup</code> endpoints).</li>
<li>User is pulled through an authentication process provided by Nblocks with cloud views.</li>
<li>Once the user is authenticated and has selected the tenant to access the user is redirect back to your app with a code.</li>
<li>You make a call to the <code>/token</code> endpoint with this code to exchange it for access tokens and user profile information (openid).</li>
<li>You can verify that the tokens are valid and safe to trust by using the public keys available from the <code>/.well-known</code> endpoint.</li>
<li>You will be able to refresh the tokens using the <code>/token</code> endpoint to obtain up to date access and profile information.</li>
</ol>
<h2 id='authorize'>Authorize</h2>
<p>Start the Oauth 2.0 user login flow by redirecting the user to the <code>/authorize</code> endpoint. The user will be able to choose login method and after authentication process get back to your app with an auth code that you can exchange for access and openid tokens.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://auth.nblocks.cloud/authorize</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>string</td>
<td>Required</td>
<td>Your app id</td>
</tr>
<tr>
<td>response_type</td>
<td>string</td>
<td>Required</td>
<td>What kind of tokens will be generated. We support <code>code</code></td>
</tr>
<tr>
<td>redirect_uri</td>
<td>string</td>
<td>Required</td>
<td>A target URI where the authenticated user will be redirected to together with tokens. Must be a valid URI in your App <code>redirectUris</code></td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>Required</td>
<td>Any or all of the following: <code>openid</code>, <code>profile</code>, <code>email</code>, <code>address</code>, <code>phone</code>, <code>onboarding</code>, <code>tenant</code></td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Optional</td>
<td>This can be used to resume a state in your app. The state will be available in the response code</td>
</tr>
<tr>
<td>responseType</td>
<td><code>&#39;code&#39;</code> or <code>&#39;id_token&#39;</code></td>
<td>Optional</td>
<td>If the response should be a code that could be exchanged for tokens or just an Id token</td>
</tr>
<tr>
<td>signup</td>
<td>boolean</td>
<td>Optional</td>
<td>If you want to initiate a signup instead of the default login flow for the user.</td>
</tr>
<tr>
<td>signup_plan</td>
<td>string</td>
<td>Optional</td>
<td>The key to an existing <a href="#plan-model">plan</a>. Allows the signup end with the new tenant subscribing to a specific plan.</td>
</tr>
<tr>
<td>signup_currency</td>
<td>string</td>
<td>Optional</td>
<td>A currency that matches one of the price in the plan.</td>
</tr>
<tr>
<td>signup_recurrence_interval</td>
<td>string</td>
<td>Optional</td>
<td>An interval that matches one of the price in the plan.</td>
</tr>
<tr>
<td>force_federation</td>
<td><code>&#39;ms-azure-ad&#39;</code> or <code>&#39;google&#39;</code> or <code>&#39;saml&#39;</code></td>
<td>Optional</td>
<td>If you want to force a certain federated login flow instead of letting the user choose during login.  Saml flows requires federationConnection to be provided.</td>
</tr>
<tr>
<td>federation_connection</td>
<td>string</td>
<td>Optional</td>
<td>Specify what federation connection id to use when running <code>forceFederation</code></td>
</tr>
</tbody></table>

<aside class="notice">
You should redirect the user agent to this endpoint to initate the login flow. This is not an API <-> API call.
</aside>
<h2 id='get-tokens'>Get tokens</h2>
<blockquote>
<p>Request example exchanging code for tokens</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">auth</span><span class="p">.</span><span class="nx">getTokensAndVerify</span><span class="p">({</span><span class="na">code</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XXXX</span><span class="dl">"</span><span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://auth.nblocks.cloud/token'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    client_id: "YOUR_APP_ID", grant_type: "authorization_code", code: "XXXX", "redirect_uri": "http://localhost:8080/auth/oauth-callback"
}'</span>
</code></pre></div>
<blockquote>
<p>Request example exchanging refresh token for tokens</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">auth</span><span class="p">.</span><span class="nx">refreshTokensAndVerify</span><span class="p">({</span><span class="na">refreshToken</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XXXX</span><span class="dl">"</span><span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://auth.nblocks.cloud/token'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    client_id: "YOUR_APP_ID", grant_type: "refresh_token", refresh_token: "XXXX"
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get new tokens using an authorization code from a user just completed authentication or by using the refresh token that was issued to a logged in user before. This endpoints serves both cases. </p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://auth.nblocks.cloud/token</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>string</td>
<td>Required</td>
<td>Your app id</td>
</tr>
<tr>
<td>grant_type</td>
<td>string</td>
<td>Required</td>
<td><code>authorization_code</code> or <code>refresh_token</code></td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>Required for <code>authorization_code</code></td>
<td>The code you recieved from the authenticated user.</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>string</td>
<td>Required for <code>authorization_code</code></td>
<td>A target URI where the authenticated user will be redirected to together with tokens. Must be a valid URI in your App <code>redirectUris</code></td>
</tr>
<tr>
<td>refresh_token</td>
<td>string</td>
<td>Required for <code>refresh_token</code></td>
<td>The refresh token that was issued when getting the tokens before</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#tokens-response">Tokens response</a></p>

<aside class="notice">
These tokens are <a href="https://jwt.io">JWTs</a>, provided in a compact form, all according to the <a href="https://www.oauth.com">OAuth 2.0 / OpenID standard</a>. 
That means there are plenty of libraries for many software stacks to decode them into readable JSON. Here's a extensive list of tools for most software stacks https://jwt.io/libraries.
</aside>
<h2 id='short-hand-authorize'>Short hand authorize</h2>
<p>Shorthand endpoints exists so you can use them with less parameters using sensible defaults. Use the simpler short hand endpoint <code>/url/login</code> to initiate the login flow. The Nblocks will collect your default config and issue the Oauth 2.0 flow.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://auth.nblocks.cloud/url/login/:YOUR_APP_ID</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>YOUR_APP_ID</td>
<td>The ID of your app</td>
</tr>
</tbody></table>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>redirectUri</td>
<td>string</td>
<td>Optional</td>
<td>A target URI where the authenticated user will be redirected to together with tokens. The default value is your App <code>defaultCallbackUri</code>.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Optional</td>
<td>This can be used to resume a state in your app. The state will be available in the response code</td>
</tr>
<tr>
<td>responseType</td>
<td><code>&#39;code&#39;</code> or <code>&#39;id_token&#39;</code></td>
<td>Optional</td>
<td>If the response should be a code that could be exchanged for tokens or just an Id token</td>
</tr>
<tr>
<td>forceFederation</td>
<td><code>&#39;ms-azure-ad&#39;</code> or <code>&#39;google&#39;</code> or <code>&#39;saml&#39;</code></td>
<td>Optional</td>
<td>If you want to force a certain federated login flow instead of letting the user choose during login.  Saml flows requires federationConnection to be provided.</td>
</tr>
<tr>
<td>federationConnection</td>
<td>string</td>
<td>Optional</td>
<td>Specify what federation connection id to use when running <code>forceFederation</code></td>
</tr>
</tbody></table>

<aside class="notice">
You should redirect the user agent to this endpoint to initate the login flow. This is not an API <-> API call.
</aside>
<h2 id='short-hand-signup'>Short hand signup</h2>
<p>Shorthand endpoints exists so you can use them with less parameters using sensible defaults. Use the simpler short hand endpoint <code>/url/signup</code> to initiate the signup flow. The Nblocks will collect your default config and issue the Oauth 2.0 flow.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://auth.nblocks.cloud/url/signup/:YOUR_APP_ID</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>YOUR_APP_ID</td>
<td>The ID of your app</td>
</tr>
</tbody></table>
<h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>redirectUri</td>
<td>string</td>
<td>Optional</td>
<td>A target URI where the authenticated user will be redirected to together with tokens. The default value is your App <code>defaultCallbackUri</code>.</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Optional</td>
<td>This can be used to resume a state in your app. The state will be available in the response code</td>
</tr>
<tr>
<td>responseType</td>
<td><code>&#39;code&#39;</code> or <code>&#39;id_token&#39;</code></td>
<td>Optional</td>
<td>If the response should be a code that could be exchanged for tokens or just an Id token</td>
</tr>
<tr>
<td>signupPlan</td>
<td>string</td>
<td>Optional</td>
<td>The key to an existing <a href="#plan-model">plan</a>. Allows the signup end with the new tenant subscribing to a specific plan.</td>
</tr>
<tr>
<td>signupCurrency</td>
<td>string</td>
<td>Optional</td>
<td>A currency that matches one of the price in the plan.</td>
</tr>
<tr>
<td>signupRecurrenceInterval</td>
<td>string</td>
<td>Optional</td>
<td>An interval that matches one of the price in the plan.</td>
</tr>
<tr>
<td>forceFederation</td>
<td><code>&#39;ms-azure-ad&#39;</code> or <code>&#39;google&#39;</code> or <code>&#39;saml&#39;</code></td>
<td>Optional</td>
<td>If you want to force a certain federated signup flow instead of letting the user choose during login.  Saml flows requires federationConnection to be provided.</td>
</tr>
<tr>
<td>federationConnection</td>
<td>string</td>
<td>Optional</td>
<td>Specify what federation connection id to use when running <code>forceFederation</code></td>
</tr>
</tbody></table>

<aside class="notice">
You should redirect the user agent to this endpoint to initate the signup flow. This is not an API <-> API call.
</aside>
<h2 id='shorthand-get-tokens'>Shorthand get tokens</h2>
<blockquote>
<p>Request example exchanging code for tokens</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">auth</span><span class="p">.</span><span class="nx">getTokensAndVerify</span><span class="p">({</span><span class="na">code</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XXXX</span><span class="dl">"</span><span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://auth.nblocks.cloud/token/code/YOUR_APP_ID'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "code": "XXXX"
}'</span>
</code></pre></div>
<blockquote>
<p>Request example exchanging refresh token for tokens</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">auth</span><span class="p">.</span><span class="nx">refreshTokensAndVerify</span><span class="p">({</span><span class="na">refreshToken</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XXXX</span><span class="dl">"</span><span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://auth.nblocks.cloud/token/refresh/YOUR_APP_ID'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "refreshToken": "XXXX"
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63d25a9e0796d40008680f9a"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"family_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"given_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"preferred_username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tenant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63d25a9e0796d40008680f96"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tenant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johns Family"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tenant_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tenant_logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Shorthand endpoints exists so you can use them with less parameters using sensible defaults. Get new tokens using an authorization code from a user just completed authentication or by using the refresh token that was issued to a logged in user before. This endpoints serves both cases. </p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST https://auth.nblocks.cloud/token/:grantType/:YOUR_APP_ID</code></p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>grantType</td>
<td><code>code</code> or <code>refresh</code></td>
</tr>
<tr>
<td>YOUR_APP_ID</td>
<td>The ID of your app</td>
</tr>
</tbody></table>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>string</td>
<td>Required for code grant</td>
<td>The code you recieved from the authenticated user.</td>
</tr>
<tr>
<td>refreshToken</td>
<td>string</td>
<td>Required for refresh grant</td>
<td>The refresh token that was issued when getting the tokens before</td>
</tr>
<tr>
<td>redirectUri</td>
<td>string</td>
<td>Optional for code grant</td>
<td>A target URI where the authenticated user will be redirected to together with tokens. The default value is your App <code>defaultCallbackUri</code>.</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#tokens-response">Tokens response</a></p>

<aside class="notice">
These tokens are <a href="https://jwt.io">JWTs</a>, provided in a compact form, all according to the <a href="https://www.oauth.com">OAuth 2.0 / OpenID standard</a>. 
That means there are plenty of libraries for many software stacks to decode them into readable JSON. Here's a extensive list of tools for most software stacks https://jwt.io/libraries.
</aside>
<h2 id='handover-code'>Handover code</h2>
<blockquote>
<p>Request example getting handover code</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="nx">TBD</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://auth.nblocks.cloud/handover/code/YOUR_APP_ID'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "accessToken": "XXXX"
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint returns a handover code which is used when redirecting to or displaying Nblocks hosted views and user interactions. 
The code is shortlived and should be consumed with a follow up call to which interaction you want to display for the user.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST https://auth.nblocks.cloud/handover/code/:YOUR_APP_ID</code></p>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>YOUR_APP_ID</td>
<td>The ID of your app</td>
</tr>
</tbody></table>
<h3 id='body-parameters-3'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accessToken</td>
<td>string</td>
<td>Yes</td>
<td>A valid user access token</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>string</td>
<td>A shortlived unique token</td>
</tr>
</tbody></table>
<h1 id='access'>Access</h1>
<p>Access roles and privileges enable you to manage and specify the level of access that different users have within your application.</p>

<p>To effectively control user access, you must first create a set of <strong>Privileges</strong> and associate them with a <strong>Role</strong>. 
Afterward, you can assign these roles to individual <strong>Tenant users</strong> and ensure that their privileges are evaluated for various actions and resources within the application.</p>

<p>Some use cases for roles and privileges include:</p>

<ul>
<li>Granting admin roles for full control over the system</li>
<li>Limiting guest users to read-only access</li>
<li>Assigning user-specific access to sensitive data</li>
</ul>
<h2 id='list-roles'>List roles</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">roles</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">access</span><span class="p">.</span><span class="nx">roles</span><span class="p">.</span><span class="nx">list</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/role'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623de"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"privileges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d4"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTHENTICATED"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Privilege for all authenticated users"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d5"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USER_READ"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d6"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USER_WRITE"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d7"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TENANT_READ"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d8"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TENANT_WRITE"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650ce65de49d5da5d31fa1c9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Super admin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUPER_ADMIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Super admin with user management privileges"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"privileges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d4"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTHENTICATED"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Privilege for all authenticated users"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d5"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USER_READ"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d6"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USER_WRITE"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>List all roles</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/role</code></p>
<h3 id='headers'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>List of <a href="#access-role-model">Roles</a></p>
<h2 id='create-a-role'>Create a role</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Admin</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ADMIN</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Admin with user read privileges</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">privileges</span><span class="p">:</span> <span class="p">[</span>
        <span class="dl">"</span><span class="s2">650cd8510ccba777cc9623d4</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">650cd8510ccba777cc9623d5</span><span class="dl">"</span>
    <span class="p">],</span>
    <span class="na">isDefault</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">createdRole</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">access</span><span class="p">.</span><span class="nx">roles</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://account-api.nebulr-core.com/role'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "name": "Admin",
    "key": "ADMIN",
    "description": "Admin with user read privileges",
    "privileges": [
        "650cd8510ccba777cc9623d4",
        "650cd8510ccba777cc9623d5"
    ],
    "isDefault": false
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516a9bd492d28b55cca8d6f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Admin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Admin with user read privileges"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"privileges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTHENTICATED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Privilege for all authenticated users"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USER_READ"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Create a role</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/role</code></p>
<h3 id='headers-2'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Yes</td>
<td>A presentable label for this role</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>Yes</td>
<td>A unique key for this role</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>No</td>
<td>Optional description</td>
</tr>
<tr>
<td>privileges</td>
<td><a href="#access-privilege-model">Privilege IDs</a>[]</td>
<td>Yes</td>
<td>A list of privilege IDs. The list cannot be empty</td>
</tr>
<tr>
<td>isDefault</td>
<td>boolean</td>
<td>No</td>
<td>Default value is <code>false</code>. If set to <code>true</code>, the existing default role will be set to <code>false</code></td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#access-role-model">Role</a></p>
<h2 id='update-a-role'>Update a role</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">6516a9bd492d28b55cca8d6f</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Updated description for the admin role</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">updatedRole</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">access</span><span class="p">.</span><span class="nx">role</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://account-api.nebulr-core.com/role/6516a9bd492d28b55cca8d6f'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "description": "Updated description for the admin role"
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516a9bd492d28b55cca8d6f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Admin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated description for the admin role"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"privileges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTHENTICATED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Privilege for all authenticated users"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USER_READ"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Update an existing role</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>PUT https://account-api.nebulr-core.com/role/ROLE_ID</code></p>
<h3 id='headers-3'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ROLE_ID</td>
<td>The ID of the role</td>
</tr>
</tbody></table>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>No</td>
<td>A presentable label for this role</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>No</td>
<td>A unique key for this role. The <code>OWNER</code> key cannot be changed</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>No</td>
<td>Optional description</td>
</tr>
<tr>
<td>privileges</td>
<td><a href="#access-privilege-model">Privilege IDs</a>[]</td>
<td>No</td>
<td>A list of privilege IDs. The list cannot be empty</td>
</tr>
<tr>
<td>isDefault</td>
<td>boolean</td>
<td>No</td>
<td>Changing to <code>false</code> from <code>true</code> is not possible. If set to <code>true</code> from <code>false</code>, the existing default role will be set to <code>false</code></td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#access-role-model">Role</a></p>
<h2 id='delete-a-role'>Delete a role</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">6516a9bd492d28b55cca8d6f</span><span class="dl">"</span><span class="p">;</span>
<span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">access</span><span class="p">.</span><span class="nx">role</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="k">delete</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> DELETE <span class="s1">'https://account-api.nebulr-core.com/role/6516a9bd492d28b55cca8d6f'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<p>Delete an existing role. Deleting a role will <strong>not</strong> remove related privileges. Default roles and the <code>OWNER</code> role cannot be deleted.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>DELETE https://account-api.nebulr-core.com/role/ROLE_ID</code></p>
<h3 id='headers-4'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ROLE_ID</td>
<td>The ID of the role</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h2 id='list-privileges'>List privileges</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">privileges</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">access</span><span class="p">.</span><span class="nx">privileges</span><span class="p">.</span><span class="nx">list</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/role/privilege'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTHENTICATED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Privilege for all authenticated users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USER_READ"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USER_WRITE"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TENANT_READ"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650cd8510ccba777cc9623d8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TENANT_WRITE"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>List all privileges</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/role/privilege</code></p>
<h3 id='headers-5'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>List of <a href="#access-privilege-model">Privileges</a></p>
<h2 id='create-a-privilege'>Create a privilege</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">SENSITIVE_DATA</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Access to sensitive data</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">createdPrivilege</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">access</span><span class="p">.</span><span class="nx">privileges</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://account-api.nebulr-core.com/role/privilege'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "key": "SENSITIVE_DATA",
    "description": "Access to sensitive data"
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516b9cb492d28b55cca8daf"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SENSITIVE_DATA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Access to sensitive data"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Create a privilege</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/role/privilege</code></p>
<h3 id='headers-6'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='body-parameters-3'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>string</td>
<td>Yes</td>
<td>A unique key for this privilege</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>No</td>
<td>Optional description</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#access-privilege-model">Privileges</a></p>
<h2 id='update-a-privilege'>Update a privilege</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">6516b9cb492d28b55cca8daf</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Updated description for the sensitive data privilege</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">updatedPrivilege</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">access</span><span class="p">.</span><span class="nx">privilege</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://account-api.nebulr-core.com/role/privilege/6516b9cb492d28b55cca8daf'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "description": "Updated description for the sensitive data privilege"
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516b9cb492d28b55cca8daf"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SENSITIVE_DATA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated description for the sensitive data privilege"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Update an existing privilege</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>PUT https://account-api.nebulr-core.com/role/privilege/PRIVILEGE_ID</code></p>
<h3 id='headers-7'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRIVILEGE_ID</td>
<td>The ID of the privilege</td>
</tr>
</tbody></table>
<h3 id='body-parameters-4'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>string</td>
<td>No</td>
<td>A unique key for this privilege.</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>No</td>
<td>Optional description</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#access-privilege-model">Privileges</a></p>
<h2 id='delete-a-privilege'>Delete a privilege</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">6516b9cb492d28b55cca8daf</span><span class="dl">"</span><span class="p">;</span>
<span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">access</span><span class="p">.</span><span class="nx">privilege</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="k">delete</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> DELETE <span class="s1">'https://account-api.nebulr-core.com/role/privilege/6516b9cb492d28b55cca8daf'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<p>Delete an existing privilege.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>DELETE https://account-api.nebulr-core.com/role/privilege/PRIVILEGE_ID</code></p>
<h3 id='headers-8'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRIVILEGE_ID</td>
<td>The ID of the privilege</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h1 id='federation-connections'>Federation connections</h1>
<p>Federation connections are part of Enterprise login. They represent a way to authenticate with a remote Identity provider (IdP) using either SAML or OIDC.
You can setup different types of connections and assign them to invidual or a group of tenants. The tenants will then use this method to login.
Users of tenants with enterprise login will only be able to login this way. That&#39;s because the IdP now manage the application access.</p>
<h2 id='list-all-connections'>List all connections</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">federation</span><span class="p">.</span><span class="nx">list</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/federation/connection'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6571edf9dc018000227ac448"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACME SAML"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"loginUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mocksaml.com/api/saml/sso"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END CERTIFICATE-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequest"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequestAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-07T16:08:25.061Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6571edf9dc018000227ac449"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foobar SAML"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"loginUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://anotherIdP.com/api/saml/sso"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END CERTIFICATE-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequestAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"privateKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PRIVATE KEY-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END PRIVATE KEY-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-07T16:08:25.061Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<p>Lists all federation connections in your app. These can be assigned to tenants to enable them to authenticate.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/federation/connection</code></p>
<h3 id='headers'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>A list of <a href="#federation-connection-model">Federation connections</a></p>
<h2 id='get-connection-by-id'>Get connection by id</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">federation</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">606b00a61679e20008a5654d</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/federation/connection/606b00a61679e20008a5654d'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6571edf9dc018000227ac449"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foobar SAML"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"loginUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://anotherIdP.com/api/saml/sso"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END CERTIFICATE-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequestAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"privateKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PRIVATE KEY-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END PRIVATE KEY-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-07T16:08:25.061Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<p>Get a single federation connection in your app</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/federation/connection/:CONNECTION_ID</code></p>
<h3 id='headers-2'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CONNECTION_ID</td>
<td>The ID of the connection</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#federation-connection-model">Federation connection</a></p>
<h2 id='create-new-connection'>Create new connection</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">federation</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">saml</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">My connection</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">clientId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">client_1234</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">loginUrl</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://mocksaml.com/api/saml/sso</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">certificate</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MIIC4jCCAcoCCQC33wnybT5QZDKYRFfomGwz0TZ4Iw1ZN99Mm0eo2USlSRTVl7QHRTuiuSThHpLKQQ==</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">requestMethod</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">signedRequest</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://account-api.nebulr-core.com/federation/connection'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "type": "saml",
        "name": "My connection",
        "clientId": "client_1234",
        "loginUrl": "https://mocksaml.com/api/saml/sso",
        "certificate": "MIIC4jCCAcoCCQC33wnybT5QZDKYRFfomGwz0TZ4Iw1ZN99Mm0eo2USlSRTVl7QHRTuiuSThHpLKQQ==",
        "requestMethod": "GET",
        "signedRequest": false
    }'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6571edf9dc018000227ac449"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foobar SAML"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"loginUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://anotherIdP.com/api/saml/sso"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END CERTIFICATE-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequestAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"privateKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PRIVATE KEY-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END PRIVATE KEY-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-07T16:08:25.061Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<p>Creates a new tenant with an initial user that is regarded as the tenant owner.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/federation/connection</code></p>
<h3 id='headers-3'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Required</td>
<td>A connection name. This will also be visible for users when logging in</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>Optional</td>
<td>The identifier assigned to your application by the IdP. This is sometimes not required</td>
</tr>
<tr>
<td>loginUrl</td>
<td>string</td>
<td>Required</td>
<td>The URL where the IdP expects to receive SAML authentication requests</td>
</tr>
<tr>
<td>certificate</td>
<td>string</td>
<td>Required</td>
<td>The public key certificate provided by the IdP to validate the SAML responses.</td>
</tr>
<tr>
<td>requestMethod</td>
<td>string</td>
<td>Optional</td>
<td>The preferred method for sending SAML requests, either HTTP GET Redirect (most common) or HTTP POST</td>
</tr>
<tr>
<td>signedRequest</td>
<td>boolean</td>
<td>Optional</td>
<td>Whether the IdP requires the SAML request to be signed or not.</td>
</tr>
<tr>
<td>signedRequestAlgorithm</td>
<td><code>sha256</code> or <code>sha512</code></td>
<td>Required if signedRequest</td>
<td>Request signing algorithm.</td>
</tr>
<tr>
<td>privateKey</td>
<td>string</td>
<td>Required if signedRequest</td>
<td>Request signing private key. The public key should be handover to IdP</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 201</code></p>

<p><a href="#federation-connection-model">Federation connection</a></p>
<h2 id='update-connection'>Update connection</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">federation</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="dl">'</span><span class="s1">606b00a61679e20008a5654d</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="na">requestMethod</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span>
    <span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://account-api.nebulr-core.com/federation/connection/606b00a61679e20008a5654d'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "requestMethod": "POST"
    }'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6571edf9dc018000227ac449"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foobar SAML"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"loginUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://anotherIdP.com/api/saml/sso"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END CERTIFICATE-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequestAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"privateKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PRIVATE KEY-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END PRIVATE KEY-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-07T16:08:25.061Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<p>Update an existing connection.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT https://account-api.nebulr-core.com/federation/connection/CONNECTION_ID</code></p>
<h3 id='headers-4'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CONNECTION_ID</td>
<td>The ID of the connection</td>
</tr>
</tbody></table>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Optional</td>
<td>A connection name. This will also be visible for users when logging in</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>Optional</td>
<td>The identifier assigned to your application by the IdP. This is sometimes not required</td>
</tr>
<tr>
<td>loginUrl</td>
<td>string</td>
<td>Optional</td>
<td>The URL where the IdP expects to receive SAML authentication requests</td>
</tr>
<tr>
<td>certificate</td>
<td>string</td>
<td>Optional</td>
<td>The public key certificate provided by the IdP to validate the SAML responses.</td>
</tr>
<tr>
<td>requestMethod</td>
<td>string</td>
<td>Optional</td>
<td>The preferred method for sending SAML requests, either HTTP GET Redirect (most common) or HTTP POST</td>
</tr>
<tr>
<td>signedRequest</td>
<td>boolean</td>
<td>Optional</td>
<td>Whether the IdP requires the SAML request to be signed or not.</td>
</tr>
<tr>
<td>signedRequestAlgorithm</td>
<td><code>sha256</code> or <code>sha512</code></td>
<td>Optional</td>
<td>Request signing algorithm.</td>
</tr>
<tr>
<td>privateKey</td>
<td>string</td>
<td>Optional</td>
<td>Request signing private key. The public key should be handover to IdP</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#federation-connection-model">Federation connection</a></p>
<h2 id='delete-a-connection'>Delete a connection</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">federation</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="dl">"</span><span class="s2">606b00a61679e20008a5654d</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> DELETE <span class="s1">'https://account-api.nebulr-core.com/federation/connection/606b00a61679e20008a5654d'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<p>Delete an existing connection.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE https://account-api.nebulr-core.com/federation/connection/CONNECTION_ID</code></p>
<h3 id='headers-5'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>CONNECTION_ID</td>
<td>The ID of the connection</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h1 id='users'>Users</h1>
<p>These are your app&#39;s users. We call them Tenant users since they belong to a tenant. But they can use the same credentials to access multiple tenants should their username exists in several places.</p>
<h2 id='list-users-by-tenant'>List users by tenant</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">users</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="dl">'</span><span class="s1">624c14cc0c01e70033356285</span><span class="dl">'</span><span class="p">).</span><span class="nx">users</span><span class="p">.</span><span class="nx">list</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/tenant/user'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-tenant-id: 624c14cc0c01e70033356285'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63cad6ac48dcba47e9322853"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"consentsToPrivacyPolicy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"cool_gang"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"lastSeen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
                </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
                </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
                </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<p>List all users associated with a tenant.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/tenant/user</code></p>
<h3 id='headers'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
<tr>
<td>x-tenant-id</td>
<td>string</td>
<td>Required</td>
<td>The tenant id</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>A list of <a href="#tenant-user-model">Tenant users</a></p>
<h2 id='get-user-by-id'>Get user by id</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="dl">'</span><span class="s1">624c14cc0c01e70033356285</span><span class="dl">'</span><span class="p">).</span><span class="nx">user</span><span class="p">(</span><span class="dl">'</span><span class="s1">63cad6ac48dcba47e9322853</span><span class="dl">'</span><span class="p">).</span><span class="kd">get</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/tenant/user/63cad6ac48dcba47e9322853'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-tenant-id: 624c14cc0c01e70033356285'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63cad6ac48dcba47e9322853"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consentsToPrivacyPolicy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"cool_gang"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lastSeen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Get a specific user in a tenant.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/tenant/user/:USER_ID</code></p>
<h3 id='headers-2'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
<tr>
<td>x-tenant-id</td>
<td>string</td>
<td>Required</td>
<td>The tenant id</td>
</tr>
</tbody></table>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>USER_ID</td>
<td>The ID of the user</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>A <a href="#tenant-user-model">Tenant user</a></p>
<h2 id='list-tenants-by-user'>List tenants by user</h2><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">users</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="dl">'</span><span class="s1">624c14cc0c01e70033356285</span><span class="dl">'</span><span class="p">).</span><span class="nx">user</span><span class="p">(</span><span class="dl">'</span><span class="s1">63cad6ac48dcba47e9322853</span><span class="dl">'</span><span class="p">).</span><span class="nx">listAssociations</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/tenant/user/63cad6ac48dcba47e9322853/associations'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-tenant-id: 624c14cc0c01e70033356285'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63cad6ac48dcba47e9322853"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"consentsToPrivacyPolicy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"cool_gang"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"lastSeen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
                </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
                </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
                </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<p>Lists all tenants a user is asssociated with</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/tenant/user/:USER_ID/associations</code></p>
<h3 id='headers-3'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
<tr>
<td>x-tenant-id</td>
<td>string</td>
<td>Required</td>
<td>The tenant id</td>
</tr>
</tbody></table>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>USER_ID</td>
<td>The ID of the user</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>A list of <a href="#tenant-user-model">Tenant users</a></p>
<h2 id='create-user'>Create user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="dl">'</span><span class="s1">624c14cc0c01e70033356285</span><span class="dl">'</span><span class="p">).</span><span class="nx">users</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="na">username</span><span class="p">:</span> <span class="dl">"</span><span class="s2">john.doe@example.com</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">role</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OWNER</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">firstName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">John</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">lastName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Doe</span><span class="dl">"</span>
    <span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://account-api.nebulr-core.com/tenant/user'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-tenant-id: 624c14cc0c01e70033356285'</span>
<span class="nt">--data-raw</span> <span class="s1">'{"username":"john.doe@example.com","role":"OWNER","firstName":"John","lastName":"Doe"}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63cad6ac48dcba47e9322853"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consentsToPrivacyPolicy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"cool_gang"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lastSeen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Adds a user to to the given tenant. If the username doesn&#39;t exist, a new user will be created before being added.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/tenant/user</code></p>
<h3 id='headers-4'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
<tr>
<td>x-tenant-id</td>
<td>string</td>
<td>Required</td>
<td>The tenant id</td>
</tr>
</tbody></table>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>string</td>
<td>Required</td>
<td>Email address to the new user</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Optional</td>
<td>The key for an existing <a href="#access-role-model">Role</a></td>
</tr>
<tr>
<td>firstName</td>
<td>string</td>
<td>Optional</td>
<td>User&#39;s first name</td>
</tr>
<tr>
<td>lastName</td>
<td>string</td>
<td>Optional</td>
<td>User&#39;s last name</td>
</tr>
<tr>
<td>muteNotifications</td>
<td>boolean</td>
<td>Optional</td>
<td>Set this variable to true if you don&#39;t wish to send out any notifications to the user</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 201</code></p>

<p>A <a href="#tenant-user-model">Tenant user</a></p>
<h2 id='update-user'>Update user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="dl">'</span><span class="s1">624c14cc0c01e70033356285</span><span class="dl">'</span><span class="p">).</span><span class="nx">user</span><span class="p">(</span><span class="dl">'</span><span class="s1">63cad6ac48dcba47e9322853</span><span class="dl">'</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="na">role</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ADMIN</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">enabled</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://account-api.nebulr-core.com/tenant/user/63cad6ac48dcba47e9322853'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-tenant-id: 624c14cc0c01e70033356285'</span>
<span class="nt">--data-raw</span> <span class="s1">'{"role":"ADMIN","enabled": false}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63cad6ac48dcba47e9322853"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consentsToPrivacyPolicy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"cool_gang"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lastSeen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Update an existing user</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>PUT https://account-api.nebulr-core.com/tenant/user/:USER_ID</code></p>
<h3 id='headers-5'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
<tr>
<td>x-tenant-id</td>
<td>string</td>
<td>Required</td>
<td>The tenant id</td>
</tr>
</tbody></table>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>USER_ID</td>
<td>The ID of the user</td>
</tr>
</tbody></table>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>role</td>
<td>string</td>
<td>Optional</td>
<td>The key for an existing <a href="#access-role-model">Role</a></td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>Optional</td>
<td>If the user should be able to access the tenant</td>
</tr>
<tr>
<td>teams</td>
<td>string[]</td>
<td>Optional</td>
<td>A tag for grouping the users</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>A <a href="#tenant-user-model">Tenant user</a></p>
<h2 id='reset-user-password'>Reset user password</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="dl">'</span><span class="s1">624c14cc0c01e70033356285</span><span class="dl">'</span><span class="p">).</span><span class="nx">user</span><span class="p">(</span><span class="dl">'</span><span class="s1">63cad6ac48dcba47e9322853</span><span class="dl">'</span><span class="p">).</span><span class="nx">resetPassword</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://account-api.nebulr-core.com/tenant/user/63cad6ac48dcba47e9322853/password'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-tenant-id: 624c14cc0c01e70033356285'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<p>Sends a password reset email to the given user.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/tenant/user/:USER_ID/password</code></p>
<h3 id='headers-6'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
<tr>
<td>x-tenant-id</td>
<td>string</td>
<td>Required</td>
<td>The tenant id</td>
</tr>
</tbody></table>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>USER_ID</td>
<td>The ID of the user</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 201</code></p>
<h3 id='get-the-password-reset-link-without-sending-an-email'>Get the password reset link without sending an email:</h3>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="dl">'</span><span class="s1">624c14cc0c01e70033356285</span><span class="dl">'</span><span class="p">).</span><span class="nx">user</span><span class="p">(</span><span class="dl">'</span><span class="s1">63cad6ac48dcba47e9322853</span><span class="dl">'</span><span class="p">).</span><span class="nx">getResetPasswordLink</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/tenant/user/63cad6ac48dcba47e9322853/passwordLink'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-tenant-id: 624c14cc0c01e70033356285'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>https://app.nblocks.cloud/handover?appId=YOUR_APP_ID&amp;flow=openidconnect&amp;args=eyJlbnRyeVBvaW50IjoiL2F1dGgvc2V0LXBhc3N3b3JkLzA3YndwZjB1c2F1YW91aWZheHFlZm9tMnkxZ2lxb3l0eTlseDJxaGpwOGVubTF6MGtiNGR0M2hjYnpmdTJqbWljY3k2anYyazhiOG4xMG5pdXRtIn0=
</code></pre></div><h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/tenant/user/:USER_ID/passwordLink</code></p>
<h3 id='headers-7'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
<tr>
<td>x-tenant-id</td>
<td>string</td>
<td>Required</td>
<td>The tenant id</td>
</tr>
</tbody></table>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>USER_ID</td>
<td>The ID of the user</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>Returns the password reset link as a <code>string</code>.</p>
<h2 id='delete-user'>Delete user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="dl">'</span><span class="s1">624c14cc0c01e70033356285</span><span class="dl">'</span><span class="p">).</span><span class="nx">user</span><span class="p">(</span><span class="dl">'</span><span class="s1">63cad6ac48dcba47e9322853</span><span class="dl">'</span><span class="p">).</span><span class="k">delete</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> DELETE <span class="s1">'https://account-api.nebulr-core.com/tenant/user/63cad6ac48dcba47e9322853'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-tenant-id: 624c14cc0c01e70033356285'</span>
</code></pre></div>
<p>Delete an existing user.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>DELETE https://account-api.nebulr-core.com/tenant/user/:USER_ID</code></p>
<h3 id='headers-8'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
<tr>
<td>x-tenant-id</td>
<td>string</td>
<td>Required</td>
<td>The tenant id</td>
</tr>
</tbody></table>
<h3 id='url-parameters-6'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>USER_ID</td>
<td>The ID of the user</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h2 id='user-management-portal'>User management portal</h2>
<p>This endpoint renders Nblocks hosted user management views for listing and managing users. Redirect the user agent or embedd this url into an iframe to render the view.
Users will be able to list and invite other users to the same tenant. See <a href="#handover-code">Handover code</a> for how to obtain the code parameter required for this call.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET https://backendless.nblocks.cloud/user-management-portal/users?code=XXXX</code></p>
<h3 id='url-parameters-7'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>The code recieved from handover endpoint</td>
</tr>
</tbody></table>

<aside class="notice">
You should redirect the user agent to this endpoint, or embedd it in an IFrame. This is not an API <-> API call.
</aside>
<h1 id='tenants'>Tenants</h1>
<p>A tenant represents a customers workspace in your app. These are isolated data silos of team members, settings, and application data.</p>
<h2 id='list-all-tenants'>List all tenants</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenants</span><span class="p">.</span><span class="nx">list</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/tenant'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"606b00a61679e20008a5654d"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Inc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-04-05T12:20:54.890Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"605dd819e8fd3e00086cc552"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ESSENTIAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dave Ltd"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"federationConnection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c64cfb47418500082f60b5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-26T12:48:25.187Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<p>Lists all tenants in your app. Each tenant will have their own sets of users.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/tenant</code></p>
<h3 id='headers'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>A list of <a href="#tenant-model">Tenant models</a></p>
<h2 id='get-tenant-by-id'>Get tenant by id</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="dl">'</span><span class="s1">606b00a61679e20008a5654d</span><span class="dl">'</span><span class="p">).</span><span class="kd">get</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/tenant/byId/606b00a61679e20008a5654d'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Get a single tenant in your app</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/tenant/byId/:TENANT_ID</code></p>
<h3 id='headers-2'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TENANT_ID</td>
<td>The ID of the tenant</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#tenant-model">Tenant model</a></p>
<h2 id='create-new-tenant'>Create new tenant</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenants</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">New Company Ltd</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">plan</span><span class="p">:</span> <span class="dl">"</span><span class="s2">TEAM</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">owner</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">email</span><span class="p">:</span> <span class="dl">"</span><span class="s2">john@example.com</span><span class="dl">"</span><span class="p">,</span> 
            <span class="na">firstName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">John</span><span class="dl">"</span><span class="p">,</span> 
            <span class="na">lastName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Doe</span><span class="dl">"</span>
            <span class="p">},</span>
        <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">VIP</span><span class="p">:</span> <span class="dl">"</span><span class="s2">true</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://account-api.nebulr-core.com/tenant'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "name": "New Company Ltd","plan": "TEAM", "owner": {"email": "john@example.com", "firstName": "John", "lastName": "Doe"},"metadata": {"VIP": "true"}
    }'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Creates a new tenant with an initial user that is regarded as the tenant owner.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/tenant</code></p>
<h3 id='headers-3'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>owner</td>
<td>TenantOwner</td>
<td>Required</td>
<td>A user will need to be assigned as an owner to this tenant. Either reused if the user already exist or a new user will be created. The user will be onboarded automatically. See below</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Optional</td>
<td>Name of the tenant. Can also be set by tenant owner during onboarding</td>
</tr>
<tr>
<td>plan</td>
<td>string</td>
<td>Optional</td>
<td>Plan key. The <a href="#plan-model">plan</a> must be present in the configured App business model</td>
</tr>
<tr>
<td>priceOffer</td>
<td>PriceOffer</td>
<td>Optional</td>
<td>One of the offering prices of the plan</td>
</tr>
<tr>
<td>locale</td>
<td>string</td>
<td>Optional</td>
<td>The default locale / lang code for all users in this tenant (<code>ISO_639-1</code> format). This property will set the i18n for all platform emails. Defaults to &#39;en&#39;</td>
</tr>
<tr>
<td>logo</td>
<td>string</td>
<td>Optional</td>
<td>A URI to a logo. Can also be set by tenant owner during onboarding</td>
</tr>
<tr>
<td>onboarded</td>
<td>boolean</td>
<td>Optional</td>
<td>Is the tenant considered onboarded from start</td>
</tr>
<tr>
<td>metadata</td>
<td>Record<string,string></td>
<td>Optional</td>
<td>Store metadata for your own business logic that will be returned in every Tenant response. This data will never be outputted to the end user</td>
</tr>
</tbody></table>

<p><strong>TenantOwner</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Required</td>
<td>A user will need to be assigned as an owner to this tenant. Either reused if the user already exist or a new user will be created. The user will be onboarded automatically</td>
</tr>
<tr>
<td>firstName</td>
<td>string</td>
<td>Optional</td>
<td>The first name. Can also be set by tenant owner during onboarding</td>
</tr>
<tr>
<td>lastName</td>
<td>string</td>
<td>Optional</td>
<td>The last name. Can also be set by tenant owner during onboarding</td>
</tr>
<tr>
<td>muteNotifications</td>
<td>boolean</td>
<td>Optional</td>
<td>Set this variable to true if you don&#39;t wish to send out any invitation/notifications to the new user</td>
</tr>
</tbody></table>

<p><strong>PriceOffer</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>Three-letter ISO currency code. Must be a supported currency. https://www.iso.org/iso-4217-currency-codes.html</td>
</tr>
<tr>
<td>recurrenceInterval</td>
<td><code>&#39;day&#39;, &#39;month&#39;, &#39;week&#39;, &#39;year&#39;</code></td>
<td>Yes</td>
<td>An interval for how often the customer will be charged for the subscription / plan.</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 201</code></p>

<p><a href="#tenant-model">Tenant model</a></p>
<h2 id='update-tenant'>Update tenant</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="dl">'</span><span class="s1">606b00a61679e20008a5654d</span><span class="dl">'</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="na">logo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://path/to/logo.png</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">locale</span><span class="p">:</span> <span class="dl">"</span><span class="s2">en</span><span class="dl">"</span>
    <span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://account-api.nebulr-core.com/tenant/606b00a61679e20008a5654d'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "logo": "http://path/to/logo.png","locale": "en"
    }'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Update an existing tenant.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT https://account-api.nebulr-core.com/tenant/TENANT_ID</code></p>
<h3 id='headers-4'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TENANT_ID</td>
<td>The ID of the tenant</td>
</tr>
</tbody></table>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Optional</td>
<td>Name of the tenant.</td>
</tr>
<tr>
<td>locale</td>
<td>string</td>
<td>Optional</td>
<td>The default locale / lang code for all users in this tenant (<code>ISO_639-1</code> format). This property will set the i18n for all platform emails</td>
</tr>
<tr>
<td>logo</td>
<td>string</td>
<td>Optional</td>
<td>A URI to a logo.</td>
</tr>
<tr>
<td>mfa</td>
<td>boolean</td>
<td>Optional</td>
<td>Require users to login with MFA/2FA</td>
</tr>
<tr>
<td>onboarded</td>
<td>boolean</td>
<td>Optional</td>
<td>If this tenant is considered onboarded</td>
</tr>
<tr>
<td>federationConnection</td>
<td>string</td>
<td>Optional</td>
<td>Assign an existing <a href="#federation-connection-model">Federation connection</a> id to this tenant to activate enterprise login.</td>
</tr>
<tr>
<td>metadata</td>
<td>Record<string,string></td>
<td>Optional</td>
<td>Store metadata for your own business logic that will be returned in every Tenant response. This data will never be outputted to the end user</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#tenant-model">Tenant model</a></p>
<h1 id='feature-flags'>Feature flags</h1>
<p>Feature flags allows you to conditionally give access to or show / hide features or content to your users.</p>

<p>To use feature flags you must first create <strong>Flags</strong> and link them with <strong>Segments</strong>. 
Then you can start making <strong>Evaluation</strong> calls where you provide the current <strong><a href="#feature-flags-evaluation-context">Context</a></strong> and the API will take care of matching the context with the segments and returns if the flag is enabled or not.</p>

<p>Some use cases for feature flags are:</p>

<ul>
<li>Restrict access to premium content that just users with a certain plan can access</li>
<li>Try beta features on a selection of customers</li>
<li>Show a message to all users during a scheduled release.</li>
</ul>

<aside class="notice">
Segments are called Groups in the Nblocks Admin UI. They represent exactly the same entity.
</aside>
<h2 id='evaluate-a-flag'>Evaluate a flag</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">flag</span><span class="p">.</span><span class="nx">evaluate</span><span class="p">(</span><span class="dl">"</span><span class="s2">flag_1</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">context</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">user</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">63d2ab029e23db0afb07a5a7</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">role</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ADMIN</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">John Doe</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">email</span><span class="p">:</span> <span class="dl">"</span><span class="s2">john@doe.com</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">custom-user-trait</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="na">tenant</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">66238feb99227400774266f5</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">plan</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PREMIUM</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">My Workspace</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">custom-customer-trait</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="na">device</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">iphone</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="na">custom</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">property1</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value1</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">property2</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value2</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">property3</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value2</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="na">accessToken</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XXXXXX</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://backendless.nblocks.cloud/flags/evaluate/605b603cfeb49f00082686b6/iphone-feature'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "context": {
        "user": {
            "id": "63d2ab029e23db0afb07a5a7",
            "role": "ADMIN",
            "name": "John Doe",
            "email": "john@doe.com",
            "key": "custom-user-trait"
        },
        "tenant": {
            "id": "66238feb99227400774266f5",
            "plan": "PREMIUM",
            "name": "My Workspace",
            "key": "custom-customer-trait",
        },
        "device": {
            "key": "iphone"
        },
        "custom": {
            "property1": "value1",
            "property2": "value2",
            "property3": "value2",
        }
    },
    "accessToken": "XXXXXX"
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Evaluate a single flag by providing context or user access token.</p>

<p>Instead of providing the user&#39;s access token you can send your own user context information to the evaluation api. </p>

<p>We recommend you to send as much information as possible from start for a flexible experience without the need for re-releases while you add more flags and conditions. </p>

<p>We&#39;ve simplified this by defining a base structure of what information to send so you can more easily build your groups and conditions in Nblocks Admin.</p>

<p>The <a href="#feature-flags-evaluation-context">context object</a> contains three areas, <code>user</code>, <code>org</code> and <code>device</code>. Each one of them reflect different traits and holds predefined relevant properties that you can assign. Additionally, there&#39;s a forth property <code>custom</code> which developers can send any key-values they like.</p>

<ul>
<li>All areas also contain a property <code>key</code> which you can use to provide custom information if none of the others fits your need.</li>
<li>All these properties can easily be referenced when building the group targets you can define if the value should be <code>equal</code> (==), <code>contain</code>, <code>beginsWith</code>, <code>endsWith</code>, <code>lessThan</code> or <code>greaterThan</code> the value.</li>
</ul>

<p>This context object can be that can be sent to <a href="#evaluate-a-flag">/flags/evaluate</a> and <a href="#evaluate-flags-in-bulk">/flags/bulkEvaluate</a>.</p>

<aside class="success">
Providing the access token will automatically resolve all values for user and tenant so you don't have to.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://backendless.nblocks.cloud/flags/evaluate/APP_ID/FLAG_KEY</code></p>

<aside class="success">
The evaluation api doesn't require authentication. It can be called from unsafe enviroments like user clients.
</aside>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>APP_ID</td>
<td>Your app id</td>
</tr>
<tr>
<td>FLAG_ID</td>
<td>The ID of the flag</td>
</tr>
</tbody></table>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>context</td>
<td><a href="#feature-flags-evaluation-context">Context</a></td>
<td>No</td>
<td>A context object</td>
</tr>
<tr>
<td>accessToken</td>
<td>string</td>
<td>No</td>
<td>A user access token</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>Evaluation result. If the flag is enabled or not. Use this to conditionally render the feature</td>
</tr>
</tbody></table>

<aside class="success">
The evaluation api doesn't require authentication. It can be called from unsafe enviroments like user clients.
</aside>
<h2 id='evaluate-flags-in-bulk'>Evaluate flags in bulk</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">flag</span><span class="p">.</span><span class="nx">bulkEvaluate</span><span class="p">({</span>
        <span class="na">context</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">user</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">63d2ab029e23db0afb07a5a7</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">role</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ADMIN</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">John Doe</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">email</span><span class="p">:</span> <span class="dl">"</span><span class="s2">john@doe.com</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">custom-user-trait</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="na">tenant</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">66238feb99227400774266f5</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">plan</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PREMIUM</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">My Workspace</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">custom-customer-trait</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="na">device</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">iphone</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="na">custom</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">property1</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value1</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">property2</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value2</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">property3</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value2</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="na">accessToken</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XXXXXX</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://backendless.nblocks.cloud/flags/bulkEvaluate/605b603cfeb49f00082686b6'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "context": {
        "user": {
            "id": "63d2ab029e23db0afb07a5a7",
            "role": "ADMIN",
            "name": "John Doe",
            "key": "custom-user-trait"
        },
        "org": {
            "id": "66238feb99227400774266f5",
            "plan": "PREMIUM",
            "name": "My Workspace",
            "key": "custom-customer-trait",
        },
        "device": {
            "key": "iphone"
        }
    },
    "accessToken": "XXXXXX"
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"flags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"flag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone-feature"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"evaluation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Evaluate all flags in bulk by providing context or user access token. Use this to limit the amount of individual flag evaluation calls</p>

<p>Instead of providing the user&#39;s access token you can send your own user context information to the evaluation api. </p>

<p>We recommend you to send as much information as possible from start for a flexible experience without the need for re-releases while you add more flags and conditions. </p>

<p>We&#39;ve simplified this by defining a base structure of what information to send so you can more easily build your groups and conditions in Nblocks Admin.</p>

<p>The <a href="#feature-flags-evaluation-context">context object</a> contains three areas, <code>user</code>, <code>org</code> and <code>device</code>. Each one of them reflect different traits and holds predefined relevant properties that you can assign. Additionally, there&#39;s a forth property <code>custom</code> which developers can send any key-values they like.</p>

<ul>
<li>All areas also contain a property <code>key</code> which you can use to provide custom information if none of the others fits your need.</li>
<li>All these properties can easily be referenced when building the group targets you can define if the value should be <code>equal</code> (==), <code>contain</code>, <code>beginsWith</code>, <code>endsWith</code>, <code>lessThan</code> or <code>greaterThan</code> the value.</li>
</ul>

<p>This context object can be that can be sent to <a href="#evaluate-a-flag">/flags/evaluate</a> and <a href="#evaluate-flags-in-bulk">/flags/bulkEvaluate</a>.</p>

<aside class="success">
Providing the access token will automatically resolve all values for user and tenant so you don't have to.
</aside>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://backendless.nblocks.cloud/flags/bulkEvaluate/APP_ID</code></p>

<aside class="success">
The evaluation api doesn't require authentication. It can be called from unsafe enviroments like user clients.
</aside>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>APP_ID</td>
<td>Your app id</td>
</tr>
</tbody></table>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>context</td>
<td><a href="#feature-flags-evaluation-context">Context</a></td>
<td>No</td>
<td>A context object</td>
</tr>
<tr>
<td>accessToken</td>
<td>string</td>
<td>No</td>
<td>A user access token</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flags</td>
<td>EvaluatedFlag[]</td>
<td>Individual evaluation response for each flag</td>
</tr>
</tbody></table>

<p><strong>EvaluatedFlag</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>flag</td>
<td>string</td>
<td>Flag key</td>
</tr>
<tr>
<td>evaluation</td>
<td>EvaluationResponse</td>
<td>The evaluation response</td>
</tr>
</tbody></table>

<p><strong>EvaluationResponse</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>If the flag is enabled or not. Use this to conditionally render the feature</td>
</tr>
</tbody></table>

<aside class="success">
The evaluation api doesn't require authentication. It can be called from unsafe enviroments like user clients.
</aside>
<h2 id='list-segments'>List segments</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">flagAdmin</span><span class="p">.</span><span class="nx">listSegments</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://admin-api.nblocks.cloud/flags/segment'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c63e7adaf20f0008e71b20"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphones"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This segment targets iPhones"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contains"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c6400fdaf20f0008e71b25"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admins"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This segment targets admins"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>List all segments</p>

<aside class="notice">
Segments are called Groups in the Nblocks Admin UI. They represent exactly the same entity.
</aside>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://admin-api.nblocks.cloud/flags/segments</code></p>
<h3 id='headers'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>List of <a href="#feature-flags-segment">Segment</a></p>
<h2 id='create-a-segment'>Create a segment</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">flagAdmin</span><span class="p">.</span><span class="nx">createSegment</span><span class="p">({</span>
    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">admins</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">This segment targets admins</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">targets</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="na">user</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">role</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">operator</span><span class="p">:</span> <span class="dl">"</span><span class="s2">eq</span><span class="dl">"</span><span class="p">,</span>
                    <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ADMIN</span><span class="dl">"</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://admin-api.nblocks.cloud/flags/segment'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "key": "admins",
    "description": "This segment targets admins",
    "targets": [
        {
            "user": {
                "role": {
                    "operator": "eq",
                    "value": "ADMIN"
                }
            }
        }
    ]
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c6400fdaf20f0008e71b25"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admins"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This segment targets admins"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Create a segment</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST https://admin-api.nblocks.cloud/flags/segment</code></p>
<h3 id='headers-2'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='body-parameters-3'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>string</td>
<td>Yes</td>
<td>A unique key for this segment</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>No</td>
<td>Optional description</td>
</tr>
<tr>
<td>targets</td>
<td><a href="#feature-flags-segment-target">Target</a>[]</td>
<td>No</td>
<td>The targets to match. Multiple targets must all match (logical AND) for the segment to match</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#feature-flags-segment">Segment</a></p>
<h2 id='update-a-segment'>Update a segment</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">flagAdmin</span><span class="p">.</span><span class="nx">updateSegment</span><span class="p">(</span><span class="dl">"</span><span class="s2">667447b583e592454b76d0ec</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">description</span><span class="p">:</span> <span class="dl">'</span><span class="s1">This is a description</span><span class="dl">'</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://admin-api.nblocks.cloud/flags/segment/64c6400fdaf20f0008e71b25'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "description": "Updated description",
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c6400fdaf20f0008e71b25"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admins"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated description"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Update an existing segment</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>PUT https://admin-api.nblocks.cloud/flags/segment/SEGMENT_ID</code></p>
<h3 id='headers-3'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>SEGMENT_ID</td>
<td>The ID of the segment</td>
</tr>
</tbody></table>
<h3 id='body-parameters-4'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>string</td>
<td>No</td>
<td>A unique key for this segment</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>No</td>
<td>Optional description</td>
</tr>
<tr>
<td>targets</td>
<td><a href="#feature-flags-segment-target">Target</a>[]</td>
<td>No</td>
<td>The targets to match. Multiple targets must all match (logical AND) for the segment to match</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#feature-flags-segment">Segment</a></p>
<h2 id='delete-a-segment'>Delete a segment</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">flagAdmin</span><span class="p">.</span><span class="nx">deleteSegment</span><span class="p">(</span><span class="dl">"</span><span class="s2">6674409b7bc7fe186ab98a56</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> DELETE <span class="s1">'https://admin-api.nblocks.cloud/flags/segment/64c6400fdaf20f0008e71b25'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<p>Delete an existing segment. Deleting a segment will also remove the relationship with affected flags. </p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>DELETE https://admin-api.nblocks.cloud/flags/segment/SEGMENT_ID</code></p>
<h3 id='headers-4'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>SEGMENT_ID</td>
<td>The ID of the segment</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h2 id='list-flags'>List flags</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">flagAdmin</span><span class="p">.</span><span class="nx">listFlags</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://admin-api.nblocks.cloud/flags/flags'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c64cfb47418500082f60b5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone-feature"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A feature for iPhones"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"defaultValue"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c63e7adaf20f0008e71b20"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphones"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This segment targets iPhones"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"targetValue"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>List all segments</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET https://admin-api.nblocks.cloud/flags/flags</code></p>
<h3 id='headers-5'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>List of <a href="#feature-flags-flag">Flag</a></p>
<h2 id='create-a-flag'>Create a flag</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">flagAdmin</span><span class="p">.</span><span class="nx">createFlag</span><span class="p">({</span>
    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">iphone-feature</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">A feature for iPhones</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">defaultValue</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">segments</span><span class="p">:</span> <span class="p">[</span>
        <span class="dl">"</span><span class="s2">64c63e7adaf20f0008e71b20</span><span class="dl">"</span>
    <span class="p">],</span>
    <span class="na">targetValue</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">enabled</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://admin-api.nblocks.cloud/flags/flag'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "key": "iphone-feature",
    "description": "A feature for iPhones",
    "defaultValue": false,
    "segments": [
        "64c63e7adaf20f0008e71b20"
    ],
    "targetValue": true,
    "enabled": true
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c64cfb47418500082f60b5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone-feature"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A feature for iPhones"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"defaultValue"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c63e7adaf20f0008e71b20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphones"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This segment targets iPhones"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"targetValue"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Create a flag</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST https://admin-api.nblocks.cloud/flags/flag</code></p>
<h3 id='headers-6'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='body-parameters-5'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>string</td>
<td>Yes</td>
<td>A unique key for this flag</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>No</td>
<td>Optional description</td>
</tr>
<tr>
<td>defaultValue</td>
<td>boolean</td>
<td>No</td>
<td>The value to return if no segment was found or matched</td>
</tr>
<tr>
<td>segments</td>
<td>string[]</td>
<td>No</td>
<td>List of IDs of the segments which should be matched. If any of the segment match (logical OR), the flag is matched</td>
</tr>
<tr>
<td>targetValue</td>
<td>boolean</td>
<td>No</td>
<td>The value to return of a segment was matched</td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>No</td>
<td>Active state. Only enabled flags are available for evaluation. Otherwise evaluation falls back to false.</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#feature-flags-flag">Flag</a></p>
<h2 id='update-a-flag'>Update a flag</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">flagAdmin</span><span class="p">.</span><span class="nx">updateFlag</span><span class="p">(</span><span class="dl">"</span><span class="s2">667447b583e592454b76d0ec</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">description</span><span class="p">:</span> <span class="dl">'</span><span class="s1">This is a description</span><span class="dl">'</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://admin-api.nblocks.cloud/flags/flag/64c6400fdaf20f0008e71b25'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "enabled": false,
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c64cfb47418500082f60b5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone-feature"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A feature for iPhones"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"defaultValue"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c63e7adaf20f0008e71b20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphones"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This segment targets iPhones"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"targetValue"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Update an existing flag</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>PUT https://admin-api.nblocks.cloud/flags/segment/FLAG_ID</code></p>
<h3 id='headers-7'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>FLAG_ID</td>
<td>The ID of the flag</td>
</tr>
</tbody></table>
<h3 id='body-parameters-6'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>string</td>
<td>No</td>
<td>A unique key for this flag</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>No</td>
<td>Optional description</td>
</tr>
<tr>
<td>defaultValue</td>
<td>boolean</td>
<td>No</td>
<td>The value to return if no segment was found or matched</td>
</tr>
<tr>
<td>segments</td>
<td>string[]</td>
<td>No</td>
<td>List of IDs of the segments which should be matched. If any of the segment match (logical OR), the flag is matched</td>
</tr>
<tr>
<td>targetValue</td>
<td>boolean</td>
<td>No</td>
<td>The value to return of a segment was matched</td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>No</td>
<td>Active state. Only enabled flags are available for evaluation. Otherwise evaluation falls back to false.</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#feature-flags-flag">Flag</a></p>
<h2 id='delete-a-flag'>Delete a flag</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">flagAdmin</span><span class="p">.</span><span class="nx">deleteFlag</span><span class="p">(</span><span class="dl">"</span><span class="s2">6674409b7bc7fe186ab98a56</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> DELETE <span class="s1">'https://admin-api.nblocks.cloud/flags/flag/64c6400fdaf20f0008e71b25'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<p>Delete an existing flag. </p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>DELETE https://admin-api.nblocks.cloud/flags/flag/FLAG_ID</code></p>
<h3 id='headers-8'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-6'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>FLAG_ID</td>
<td>The ID of the flag</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h1 id='payments'>Payments</h1>
<p>Payments enable you to setup a business model and add a paywall to your app and start recieving money through subscriptions from your customers in matter of minutes.</p>

<p>Tenants will be able to subscribe to different <strong>Plans</strong> and you can use this information to tailor the user experience either manually or with <a href="#feature-flags">Feature flags</a></p>

<p>If you connect a payment provider to your app, Nblocks will use that provider to collect and facitilate transactions using credit card, invoice, wallet and bank transfer payments. </p>
<h2 id='list-plans'>List plans</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">plans</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">payments</span><span class="p">.</span><span class="nx">listPlans</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/payments/plan'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c545529b15b62e681f282"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"free"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trialDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:33:57.810Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c548c29b15b62e681f28a"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"premium"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Premium"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trialDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:34:52.248Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<p>List all plans</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/payments/plan</code></p>
<h3 id='headers'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>List of <a href="#plan-model">Plans</a></p>
<h2 id='create-a-plan'>Create a plan</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Premium</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">premium</span><span class="dl">"</span><span class="p">,</span> 
    <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">This is a premium plan for premium features</span><span class="dl">"</span><span class="p">,</span> 
    <span class="na">trial</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
    <span class="na">trialDays</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> 
    <span class="na">prices</span><span class="p">:</span> <span class="p">[{</span>
        <span class="p">{</span>
            <span class="na">amount</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
            <span class="na">currency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EUR</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">recurrenceInterval</span><span class="p">:</span> <span class="dl">"</span><span class="s2">month</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">}]</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">newPlan</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">payments</span><span class="p">.</span><span class="nx">createPlan</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://account-api.nebulr-core.com/payments/plan'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "name": "Premium",
    "key": "premium", 
    "description": "This is a premium plan for premium features", 
    "trial": true, 
    "trialDays": 14, 
    "prices": [{
        {
            "amount": 50,
            "currency": "EUR",
            "recurrenceInterval": "month"
        }
    }]
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c548c29b15b62e681f28a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"premium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Premium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trialDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:34:52.248Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Creates a plan that tenants can subscribe to</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/payments/plan</code></p>
<h3 id='headers-2'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>string</td>
<td>Yes</td>
<td>Plan key, must be unique and cannot be changed. This is used identify the plan amongst subscribers and is used as argument during signup.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Yes</td>
<td>The name of the plan. Visible to customers</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>No</td>
<td>The description of the plan. Visible to customers</td>
</tr>
<tr>
<td>trial</td>
<td>bolean</td>
<td>No</td>
<td>If new subscribers should start with trial. When trialing, subscribers can subscribe to plans with costs without being charged</td>
</tr>
<tr>
<td>trialDays</td>
<td>number</td>
<td>No</td>
<td>The number of days before the trial expires</td>
</tr>
<tr>
<td>prices</td>
<td><a href="#price-model">Price[]</a></td>
<td>Yes</td>
<td>A list of prices which configures how this plan is offered</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#plan-model">Plan</a></p>
<h2 id='get-a-plan'>Get a plan</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">plan</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">payments</span><span class="p">.</span><span class="nx">getPlan</span><span class="p">(</span><span class="dl">"</span><span class="s2">PLAN_ID</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/payments/plan/PLAN_ID'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c548c29b15b62e681f28a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"premium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Premium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trialDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:34:52.248Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Get a plan</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/payments/plan/PLAN_ID</code></p>
<h3 id='headers-3'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PLAN_ID</td>
<td>The ID of the plan</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#plan-model">Plan</a></p>
<h2 id='update-a-plan'>Update a plan</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">trial</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
    <span class="na">trialDays</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">updatedPlan</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">payments</span><span class="p">.</span><span class="nx">updatePlan</span><span class="p">(</span><span class="dl">"</span><span class="s2">PLAN_ID</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://account-api.nebulr-core.com/payments/plan/PLAN_ID'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{ 
    "trial": true, 
    "trialDays": 14
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c548c29b15b62e681f28a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"premium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Premium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trialDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:34:52.248Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Updates an existing plan</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT https://account-api.nebulr-core.com/payments/plan/PLAN_ID</code></p>
<h3 id='headers-4'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PLAN_ID</td>
<td>The ID of the plan</td>
</tr>
</tbody></table>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>No</td>
<td>The name of the plan. Visible to customers</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>No</td>
<td>The description of the plan. Visible to customers</td>
</tr>
<tr>
<td>trial</td>
<td>bolean</td>
<td>No</td>
<td>If new subscribers should start with trial. When trialing, subscribers can subscribe to plans with costs without being charged</td>
</tr>
<tr>
<td>trialDays</td>
<td>number</td>
<td>No</td>
<td>The number of days before the trial expires</td>
</tr>
<tr>
<td>prices</td>
<td><a href="#price-model">Price[]</a></td>
<td>No</td>
<td>A list of prices which configures how this plan is offered</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#plan-model">Plan</a></p>
<h2 id='delete-a-plan'>Delete a plan</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">payments</span><span class="p">.</span><span class="nx">deletePlan</span><span class="p">(</span><span class="dl">"</span><span class="s2">PLAN_ID</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> DELETE <span class="s1">'https://account-api.nebulr-core.com/payments/plan/PLAN_ID'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<p>Delete an existing plan. Deleting a plan will <strong>not</strong> affect tenants already subscribing to this plan.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE https://account-api.nebulr-core.com/payments/plan/PLAN_ID</code></p>
<h3 id='headers-5'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PLAN_ID</td>
<td>The ID of the plan</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h2 id='list-taxes'>List taxes</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">taxes</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">payments</span><span class="p">.</span><span class="nx">listTaxes</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/payments/tax'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c55b8ac7f396d770a98b1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VAT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:39:52.816Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c548c29b15b62e681f28a"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOMS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:39:52.816Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<p>List all taxes</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/payments/tax</code></p>
<h3 id='headers-6'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p>List of <a href="#tax-model">Taxes</a></p>
<h2 id='create-a-tax'>Create a tax</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">countryCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DE</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">VAT</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">percentage</span><span class="p">:</span> <span class="mi">19</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">newTax</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">payments</span><span class="p">.</span><span class="nx">createTax</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://account-api.nebulr-core.com/payments/tax'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "countryCode": "DE",
    "name": "VAT",
    "percentage": 19
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c55b8ac7f396d770a98b1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VAT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:39:52.816Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Creates a tax for tenants from a specific country.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/payments/tax</code></p>
<h3 id='headers-7'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='body-parameters-3'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>countryCode</td>
<td>string</td>
<td>Yes</td>
<td>Two-letter ISO country code. https://www.nationsonline.org/oneworld/country_code_list.htm</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Yes</td>
<td>Name of the tax. Visible to customers</td>
</tr>
<tr>
<td>percentage</td>
<td>string</td>
<td>Yes</td>
<td>Percentage with which the sub total is increased with. <code>0</code> - <code>100</code></td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#tax-model">Tax</a></p>
<h2 id='get-a-tax'>Get a tax</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">tax</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">payments</span><span class="p">.</span><span class="nx">getTax</span><span class="p">(</span><span class="dl">"</span><span class="s2">TAX_ID</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/payments/tax/TAX_ID'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c55b8ac7f396d770a98b1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VAT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:39:52.816Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Get a tax</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/payments/tax/TAX_ID</code></p>
<h3 id='headers-8'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TAX_ID</td>
<td>The ID of the tax</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#tax-model">Tax</a></p>
<h2 id='update-a-tax'>Update a tax</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">percentage</span><span class="p">:</span> <span class="mi">19</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">updatedTax</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">payments</span><span class="p">.</span><span class="nx">updateTax</span><span class="p">(</span><span class="dl">"</span><span class="s2">TAX_ID</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> PUT <span class="s1">'https://account-api.nebulr-core.com/payments/tax/TAX_ID'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{ 
    "percentage": 19
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c55b8ac7f396d770a98b1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VAT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:39:52.816Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Updates an existing tax</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>PUT https://account-api.nebulr-core.com/payments/tax/TAX_ID</code></p>
<h3 id='headers-9'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TAX_ID</td>
<td>The ID of the tax</td>
</tr>
</tbody></table>
<h3 id='body-parameters-4'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>countryCode</td>
<td>string</td>
<td>No</td>
<td>Two-letter ISO country code. https://www.nationsonline.org/oneworld/country_code_list.htm</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>No</td>
<td>Name of the tax. Visible to customers</td>
</tr>
<tr>
<td>percentage</td>
<td>string</td>
<td>No</td>
<td>Percentage with which the sub total is increased with. <code>0</code> - <code>100</code></td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#tax-model">Tax</a></p>
<h2 id='delete-a-tax'>Delete a tax</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">payments</span><span class="p">.</span><span class="nx">deleteTax</span><span class="p">(</span><span class="dl">"</span><span class="s2">TAX_ID</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> DELETE <span class="s1">'https://account-api.nebulr-core.com/payments/tax/TAX_ID'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<p>Delete an existing tax. Deleting a tax will <strong>not</strong> affect tenants already subscribing to plans.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>DELETE https://account-api.nebulr-core.com/payments/tax/TAX_ID</code></p>
<h3 id='headers-10'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-6'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TAX_ID</td>
<td>The ID of the tax</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>
<h2 id='connect-to-a-payment-provider'>Connect to a payment provider</h2>
<p>Nblocks uses <a href="https://stripe.com">Stripe</a> as the payment provider to facilitate credit card, invoice, wallet and bank transfer payments.
Nblocks will use your business model and create the required data in Stripe like Product, Prices and Taxes and keep this up to date.</p>

<p>See <a href="#update-credentials">Update credentials</a> how to provide your secret and public keys from Stripe to enable the integration.</p>
<h2 id='subscription-portal-select-plan'>Subscription portal - Select plan</h2>
<p>This endpoint renders Nblocks hosted subscriptions views for selecting or managing subscriptions. Redirect the user agent or embedd this url into an iframe to render the view.
Users will be able to select what plan to subscribe to. See <a href="#handover-code">Handover code</a> for how to obtain the code parameter required for this call.</p>

<p>After the user has selected the plan, and provided setup payment information if required, the user will be redirected back to your app with new tokens.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>GET https://backendless.nblocks.cloud/subscription-portal/selectPlan?code=XXXX</code></p>
<h3 id='url-parameters-7'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>The code recieved from handover endpoint</td>
</tr>
</tbody></table>

<aside class="notice">
You should redirect the user agent to this endpoint, or embedd it in an IFrame. This is not an API <-> API call.
</aside>
<h2 id='get-tenant-payment-details'>Get tenant payment details</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">details</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="nx">TENANT_ID</span><span class="p">).</span><span class="nx">getPaymentDetails</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> GET <span class="s1">'https://account-api.nebulr-core.com/tenant/TENANT_ID/paymentDetails'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516f55b900518015dc98f3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"premium"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Premium"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a premium plan"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trialDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-29T16:03:39.447Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trialDaysLeft"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Gets payment and subscriptions details about a specific tenant. This information is more in-depth than the status property attached to the <a href="#tenant-model">Tenant</a>.</p>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>GET https://account-api.nebulr-core.com/tenant/TENANT_ID/paymentDetails</code></p>
<h3 id='headers-11'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-8'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TENANT_ID</td>
<td>The ID of the tenant</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#tenant-payment-details">Tenant payment details</a></p>
<h2 id='set-tenant-plan-details'>Set tenant plan details</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">planKey</span><span class="p">:</span> <span class="dl">"</span><span class="s2">premium</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">priceOffer</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">currency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EUR</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">recurrenceInterval</span><span class="p">:</span> <span class="dl">"</span><span class="s2">month</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">const</span> <span class="nx">details</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">tenant</span><span class="p">(</span><span class="nx">TENANT_ID</span><span class="p">).</span><span class="nx">setPaymentDetails</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--request</span> POST <span class="s1">'https://account-api.nebulr-core.com/tenant/TENANT_ID/paymentDetails'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-api-key: YOUR_APP_API_KEY'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{ 
    "planKey": "premium",
    "priceOffer": {
        "currency": "EUR",
        "recurrenceInterval": "month"
    }
}'</span>
</code></pre></div>
<blockquote>
<p>Response example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516f55b900518015dc98f3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"premium"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Premium"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a premium plan"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trialDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-29T16:03:39.447Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trialDaysLeft"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>This endpoint let you manually change subscriptions details for a specific tenant. You can change the plan and/or the current price the tenant is subscribing to. 
If the app has enabled payment provider and tenant has setup payments this change will affect future transactions.</p>

<aside class="notice">
It is recommended to use the <a href="#subscription-portal-select-plan">Select plan view</a> where the end user can manage and change its plan and subscription.
</aside>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/tenant/TENANT_ID/paymentDetails</code></p>
<h3 id='headers-12'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>x-api-key</td>
<td>string</td>
<td>Required</td>
<td>Your app api key</td>
</tr>
</tbody></table>
<h3 id='url-parameters-9'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TENANT_ID</td>
<td>The ID of the tenant</td>
</tr>
</tbody></table>
<h3 id='body-parameters-5'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>planKey</td>
<td>string</td>
<td>Yes</td>
<td>The key of the plan to subscribe to</td>
</tr>
<tr>
<td>priceOffer</td>
<td>PriceOffer</td>
<td>Yes</td>
<td>One of the offering prices of the plan</td>
</tr>
</tbody></table>

<p><strong>PriceOffer</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>Three-letter ISO currency code. Must be a supported currency. https://www.iso.org/iso-4217-currency-codes.html</td>
</tr>
<tr>
<td>recurrenceInterval</td>
<td><code>&#39;day&#39;, &#39;month&#39;, &#39;week&#39;, &#39;year&#39;</code></td>
<td>Yes</td>
<td>An interval for how often the customer will be charged for the subscription / plan.</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#tenant-payment-details">Tenant payment details</a></p>
<h1 id='import-data'>Import data</h1>
<p>Import data into your Nblocks app using these endpoints.</p>
<h2 id='import-tenants'>Import tenants</h2>
<blockquote>
<p>Request example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nl">"tenant"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"John Ltd"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"plan"</span><span class="p">:</span><span class="s2">"MEDIUM"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"owner"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"peter@doe.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="s2">"Peter"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"users"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"role"</span><span class="p">:</span><span class="s2">"ADMIN"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"lisa@doe.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="s2">"Lisa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"role"</span><span class="p">:</span><span class="s2">"ADMIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
               </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$2a$10$f8zztJfuSgYc0Z8SGA3jb./KB5a2GY8lmwa9bgbRv/P0.1XNBhovy"</span><span class="p">,</span><span class="w"> 
               </span><span class="nl">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCRYPT"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"pepper"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foobar"</span><span class="p">,</span><span class="w"> 
                  </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"END"</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nl">"tenant"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"plan"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"owner"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"foo@bar.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="s2">"Peter"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"users"</span><span class="p">:[]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SCHEDULED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"606b00a61679e20008d5654b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"import"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"tenants"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"users"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"passwords"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"approved"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to import tenants and their users. No notification emails wil be sent to the imported users. 
The import is asynchronous so it will be scheduled immediately and then completed once every tenant and user has been imported. 
A notification will be sent to your email when the import has completed.
Before you make the request, you can <a href="#validate-import-tenants-data">validate</a> your input and check for errors or warnings.</p>

<p><strong>How will the imported users authenticate?</strong><br>
The import supports importing new users both with or without existing passwords. </p>

<p>New users imported without a password can authenticated using the configured SSO option. Then will be asked to reset their password should they try to login with username.</p>

<p>When importing passwords Nblocks will use the imported password to authenticate the user once. Thereafter a new password digest is generated this will be used in all future authentications.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/import/tenants</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tenant</td>
<td>ImportTenant</td>
<td>Required</td>
<td>Import data for the tenant</td>
</tr>
<tr>
<td>users</td>
<td>ImportUser[]</td>
<td>Optional</td>
<td>All other users than the owner that should be imported to this tenant</td>
</tr>
</tbody></table>

<p><strong>ImportTenant</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Optional</td>
<td>Name of the tenant.</td>
</tr>
<tr>
<td>owner</td>
<td>ImportUser</td>
<td>Required</td>
<td>The owner for this tenant. There must be one owner</td>
</tr>
<tr>
<td>plan</td>
<td>string</td>
<td>Optional</td>
<td>The key of an existing <a href="#plan-model">plan</a></td>
</tr>
<tr>
<td>logo</td>
<td>string</td>
<td>Optional</td>
<td>A URI to a logo.</td>
</tr>
<tr>
<td>metadata</td>
<td>Record<string,string></td>
<td>Optional</td>
<td>Store metadata for your own business logic that will be returned in every Tenant response. This data will never be outputted to the end user</td>
</tr>
</tbody></table>

<p><strong>ImportUser</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>string</td>
<td>Required</td>
<td>The username / email.</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Optional</td>
<td>Role of the user</td>
</tr>
<tr>
<td>firstName</td>
<td>string</td>
<td>Optional</td>
<td>Users first name</td>
</tr>
<tr>
<td>lastName</td>
<td>string</td>
<td>Optional</td>
<td>Users last name</td>
</tr>
<tr>
<td>password</td>
<td>ImportPassword</td>
<td>Optional</td>
<td>Import an existing password</td>
</tr>
</tbody></table>

<p><strong>ImportPassword</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>Required</td>
<td>The password digest.</td>
</tr>
<tr>
<td>algorithm</td>
<td><code>&#39;BCRYPT&#39;</code>, <code>&#39;ARGON2I&#39;</code>, <code>&#39;MD5&#39;</code>, <code>&#39;SHA1&#39;</code>, <code>&#39;SHA256&#39;</code>, <code>&#39;SHA512&#39;</code></td>
<td>Required</td>
<td>The algorithm that is being used.</td>
</tr>
<tr>
<td>pepper</td>
<td>ImportPasswordPepper</td>
<td>Optional</td>
<td>If the password should be peppered prior to validation. <a href="https://en.wikipedia.org/wiki/Pepper_(cryptography)">Read more.</a></td>
</tr>
</tbody></table>

<p><strong>ImportPasswordPepper</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>Required</td>
<td>The pepper value.</td>
</tr>
<tr>
<td>position</td>
<td><code>&#39;BEGIN&#39;</code> or <code>&#39;END&#39;</code></td>
<td>Required</td>
<td>If the pepper should be prepended or appended the password.</td>
</tr>
</tbody></table>

<h3 id='response'>Response</h3>

<p><code>HTTP 200</code></p>

<p><a href="#tenant-model">Tenant model</a></p>
<h2 id='validate-import-tenants-data'>Validate import tenants data</h2>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nl">"tenant"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"John Ltd"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"plan"</span><span class="p">:</span><span class="s2">"MEDIUM"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"owner"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"peter@doe.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="s2">"Peter"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"users"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"role"</span><span class="p">:</span><span class="s2">"ADMIN"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"lisa@doe.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="s2">"Lisa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"role"</span><span class="p">:</span><span class="s2">"ADMIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
               </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$2a$10$f8zztJfuSgYc0Z8SGA3jb./KB5a2GY8lmwa9bgbRv/P0.1XNBhovy"</span><span class="p">,</span><span class="w"> 
               </span><span class="nl">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCRYPT"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"pepper"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foobar"</span><span class="p">,</span><span class="w"> 
                  </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="s2">"END"</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nl">"tenant"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"plan"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"owner"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"username"</span><span class="p">:</span><span class="s2">"foo@bar.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="s2">"Peter"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"users"</span><span class="p">:[]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Response example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"tenants"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"users"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passwords"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"One or more users are missing an username"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"approved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Validates the import body and returns a result that summarizes the import and if there are any errors or warnings.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://account-api.nebulr-core.com/import/validateTenants</code></p>

<h3 id='body-parameters'>Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tenant</td>
<td>ImportTenant</td>
<td>Required</td>
<td>Import data for the tenant</td>
</tr>
<tr>
<td>users</td>
<td>ImportUser[]</td>
<td>Optional</td>
<td>All other users than the owner that should be imported to this tenant</td>
</tr>
</tbody></table>

<p><strong>ImportTenant</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Optional</td>
<td>Name of the tenant.</td>
</tr>
<tr>
<td>owner</td>
<td>ImportUser</td>
<td>Required</td>
<td>The owner for this tenant. There must be one owner</td>
</tr>
<tr>
<td>plan</td>
<td>string</td>
<td>Optional</td>
<td>The key of an existing <a href="#plan-model">plan</a></td>
</tr>
<tr>
<td>logo</td>
<td>string</td>
<td>Optional</td>
<td>A URI to a logo.</td>
</tr>
<tr>
<td>metadata</td>
<td>Record<string,string></td>
<td>Optional</td>
<td>Store metadata for your own business logic that will be returned in every Tenant response. This data will never be outputted to the end user</td>
</tr>
</tbody></table>

<p><strong>ImportUser</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>string</td>
<td>Required</td>
<td>The username / email.</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Optional</td>
<td>Role of the user</td>
</tr>
<tr>
<td>firstName</td>
<td>string</td>
<td>Optional</td>
<td>Users first name</td>
</tr>
<tr>
<td>lastName</td>
<td>string</td>
<td>Optional</td>
<td>Users last name</td>
</tr>
<tr>
<td>password</td>
<td>ImportPassword</td>
<td>Optional</td>
<td>Import an existing password</td>
</tr>
</tbody></table>

<p><strong>ImportPassword</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>Required</td>
<td>The password digest.</td>
</tr>
<tr>
<td>algorithm</td>
<td><code>&#39;BCRYPT&#39;</code>, <code>&#39;ARGON2I&#39;</code>, <code>&#39;MD5&#39;</code>, <code>&#39;SHA1&#39;</code>, <code>&#39;SHA256&#39;</code>, <code>&#39;SHA512&#39;</code></td>
<td>Required</td>
<td>The algorithm that is being used.</td>
</tr>
<tr>
<td>pepper</td>
<td>ImportPasswordPepper</td>
<td>Optional</td>
<td>If the password should be peppered prior to validation. <a href="https://en.wikipedia.org/wiki/Pepper_(cryptography)">Read more.</a></td>
</tr>
</tbody></table>

<p><strong>ImportPasswordPepper</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>Required</td>
<td>The pepper value.</td>
</tr>
<tr>
<td>position</td>
<td><code>&#39;BEGIN&#39;</code> or <code>&#39;END&#39;</code></td>
<td>Required</td>
<td>If the pepper should be prepended or appended the password.</td>
</tr>
</tbody></table>
<h1 id='webhook'>Webhook</h1>
<p>These events are sent to your webhook endpoint. See <a href="#update-app-profile">Update app profile</a> how to configure a webhook</p>
<h2 id='tenant-created-event'>Tenant created event</h2>
<blockquote>
<p>Request example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TENANT_CREATED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-11T08:10:28.240Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
                </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
                    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Event type</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>When the event occurred</td>
</tr>
<tr>
<td>data</td>
<td><a href="#tenant-model">Tenant</a></td>
<td>Event body</td>
</tr>
</tbody></table>
<h2 id='tenant-updated-event'>Tenant updated event</h2>
<blockquote>
<p>Request example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TENANT_UPDATED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-11T08:10:28.240Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
                </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
                    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
                    </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Event type</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>When the event occurred</td>
</tr>
<tr>
<td>data</td>
<td><a href="#tenant-model">Tenant</a></td>
<td>Event body</td>
</tr>
</tbody></table>
<h2 id='tenant-user-created-event'>Tenant user created event</h2>
<blockquote>
<p>Request example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TENANT_USER_CREATED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-11T08:29:22.469Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63cad6ac48dcba47e9322853"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"consentsToPrivacyPolicy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"cool_gang"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nl">"lastSeen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
                    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
                        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w">  
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Event type</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>When the event occurred</td>
</tr>
<tr>
<td>data</td>
<td><a href="#tenant-user-model">Tenant user</a></td>
<td>Event body</td>
</tr>
</tbody></table>
<h2 id='tenant-user-updated-event'>Tenant user updated event</h2>
<blockquote>
<p>Request example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TENANT_USER_UPDATED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-11T08:29:22.469Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63cad6ac48dcba47e9322853"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"consentsToPrivacyPolicy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"cool_gang"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nl">"lastSeen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
                    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
                        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Event type</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>When the event occurred</td>
</tr>
<tr>
<td>data</td>
<td><a href="#tenant-user-model">Tenant user</a></td>
<td>Event body</td>
</tr>
</tbody></table>
<h2 id='tenant-user-deleted-event'>Tenant user deleted event</h2>
<blockquote>
<p>Request example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TENANT_USER_DELETED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-11T08:29:22.469Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63cad6ac48dcba47e9322853"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"consentsToPrivacyPolicy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"cool_gang"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nl">"lastSeen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
                    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
                        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
                        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Event type</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>When the event occurred</td>
</tr>
<tr>
<td>data</td>
<td><a href="#tenant-user-model">Tenant user</a></td>
<td>Event body</td>
</tr>
</tbody></table>
<h1 id='models'>Models</h1><h2 id='app-profile-model'>App profile model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356282"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My app"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY_APP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"apiUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:3000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uiUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8100"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emailSenderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My App"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emailSenderEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"noreply@myapp.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"webhookUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://api.example.com/webhook"</span><span class="w">
    </span><span class="nl">"stripeEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentsAutoRedirect"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passkeysEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"magicLinkEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mfaEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureMarketplaceEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"googleSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureAdSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"linkedinSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"githubSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"facebookSsoEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"onboardingFlow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B2B"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tenantSelfSignup"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cloudViews"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirectUris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://localhost:8080/auth/oauth-callback"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"defaultCallbackUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8080/auth/oauth-callback"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://public.nblocks.dev/assets/logos/nblocks-logo-black.svg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"websiteUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"privacyPolicyUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"termsOfServiceUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accessTokenTTL"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"refreshTokenTTL"</span><span class="p">:</span><span class="w"> </span><span class="mi">604800</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Unique ID (Read only)</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the app</td>
</tr>
<tr>
<td>domain</td>
<td>string</td>
<td>Unique domain name of the app (Read only)</td>
</tr>
<tr>
<td>apiUrl</td>
<td>string</td>
<td>URL to your api (to receive webhooks etc).</td>
</tr>
<tr>
<td>webhookUrl</td>
<td>string</td>
<td>Enable webhook and events to be sent to this url</td>
</tr>
<tr>
<td>uiUrl</td>
<td>string</td>
<td>URL to your frontend app (for onboarding redirects etc).</td>
</tr>
<tr>
<td>logo</td>
<td>string</td>
<td>URL to your logo</td>
</tr>
<tr>
<td>websiteUrl</td>
<td>string</td>
<td>URL to your website or landing page. E.g. Branded emails will link to this URL, checkout process will redirect to <code>/payment-success</code> and <code>/payment-cancel</code></td>
</tr>
<tr>
<td>privacyPolicyUrl</td>
<td>string</td>
<td>URL to a page on your website containing a Privacy policy for your app users. E.g. checkout process will link to this url.</td>
</tr>
<tr>
<td>termsOfServiceUrl</td>
<td>string</td>
<td>URL to a page on your website containing a Terms of service for your app users. E.g. checkout process will link to this url.</td>
</tr>
<tr>
<td>emailSenderName</td>
<td>string</td>
<td>Emails sent from Nblocks will have this sender name</td>
</tr>
<tr>
<td>emailSenderEmail</td>
<td>string</td>
<td>Emails sent from Nblocks will have this sender email. You&#39;ll have to verify this email before</td>
</tr>
<tr>
<td>paymentsAutoRedirect</td>
<td>boolean</td>
<td>Activates redirect to select payments plans and takes a user to selection of payment plans directly after signup or after a trial has ended.</td>
</tr>
<tr>
<td>stripeEnabled</td>
<td>boolean</td>
<td>Boolean value telling the user if Stripe is enabled</td>
</tr>
<tr>
<td>passkeysEnabled</td>
<td>boolean</td>
<td>Boolean value telling the user if Login with Passkeys is enabled</td>
</tr>
<tr>
<td>magicLinkEnabled</td>
<td>boolean</td>
<td>Boolean value telling the user if Login with Magic-Link is enabled</td>
</tr>
<tr>
<td>mfaEnabled</td>
<td>boolean</td>
<td>Boolean value telling the user if multi-factor authentication is enabled</td>
</tr>
<tr>
<td>azureMarketplaceEnabled</td>
<td>boolean</td>
<td>Boolean value telling the user if Azure marketplace is enabled</td>
</tr>
<tr>
<td>googleSsoEnabled</td>
<td>boolean</td>
<td>Boolean value telling the user if Login with Google SSO is enabled</td>
</tr>
<tr>
<td>linkedinSsoEnabled</td>
<td>boolean</td>
<td>Boolean value telling the user if Login with LinkedIn SSO is enabled</td>
</tr>
<tr>
<td>githubSsoEnabled</td>
<td>boolean</td>
<td>Boolean value telling the user if Login with Github SSO is enabled</td>
</tr>
<tr>
<td>facebookSsoEnabled</td>
<td>boolean</td>
<td>Boolean value telling the user if Login with Facebook SSO is enabled</td>
</tr>
<tr>
<td>azureAdSsoEnabled</td>
<td>boolean</td>
<td>Boolean value telling the user if Login with Azure SSO is enabled</td>
</tr>
<tr>
<td>onboardingFlow</td>
<td>OnboardingFlow</td>
<td>Configure how users will be onboarded</td>
</tr>
<tr>
<td>cloudViews</td>
<td>boolean</td>
<td>Toggle this to true if you want to use a UI provided by NBlocks instead of your own</td>
</tr>
<tr>
<td>tenantSelfSignup</td>
<td>boolean</td>
<td>Wheater to allow users to signup for new workspaces themselves</td>
</tr>
<tr>
<td>redirectUris</td>
<td>string[]</td>
<td>Allowed redirect uris</td>
</tr>
<tr>
<td>defaultCallbackUri</td>
<td>string</td>
<td>Default handover/callback uri used by Nblocks</td>
</tr>
<tr>
<td>accessTokenTTL</td>
<td>number</td>
<td>Access token lifetime in seconds</td>
</tr>
<tr>
<td>refreshTokenTTL</td>
<td>number</td>
<td>Refresh token lifetime seconds</td>
</tr>
</tbody></table>
<h2 id='credentials-state-model'>Credentials state model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"stripeCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureMarketplaceCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"azureAdSsoCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"googleSsoCredentialsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>stripeCredentialsAdded</td>
<td>boolean</td>
<td>If <code>stripeSecretKey</code> and <code>stripePublicKey</code> exist</td>
</tr>
<tr>
<td>azureMarketplaceCredentialsAdded</td>
<td>boolean</td>
<td>If <code>microsoftAzureMarketplaceClientId</code>, <code>microsoftAzureMarketplaceClientSecret</code>, and <code>microsoftAzureMarketplaceTenantId</code> exist</td>
</tr>
<tr>
<td>azureAdSsoCredentialsAdded</td>
<td>boolean</td>
<td>If <code>microsoftAzureADClientId</code>, <code>microsoftAzureADClientSecret</code>, and <code>microsoftAzureADTenantId</code> exist</td>
</tr>
<tr>
<td>googleSsoCredentialsAdded</td>
<td>boolean</td>
<td>If <code>googleClientId</code> and <code>googleClientSecret</code> exist</td>
</tr>
</tbody></table>
<h2 id='tenant-model'>Tenant model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Unique ID (Read only)</td>
</tr>
<tr>
<td>plan</td>
<td>string</td>
<td>Plan key. Tells what plan the tenant is subscribing to. See <a href="#plan-model">Plan model</a></td>
</tr>
<tr>
<td>trial</td>
<td>boolean</td>
<td>The tenant is currently trialing on the selected plan</td>
</tr>
<tr>
<td>locale</td>
<td>string</td>
<td>The default locale / lang code for all users in this tenant (<code>ISO_639-1</code> format). This property will set the i18n for all platform emails</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the tenant</td>
</tr>
<tr>
<td>logo</td>
<td>string</td>
<td>URI to a logo</td>
</tr>
<tr>
<td>mfa</td>
<td>boolean</td>
<td>Require users to login with MFA/2FA</td>
</tr>
<tr>
<td>paymentStatus</td>
<td><a href="#tenant-payment-status">Payment status</a></td>
<td>The tenant current payment status</td>
</tr>
<tr>
<td>paymentsRequired</td>
<td>boolean</td>
<td>The tenant should setup payment immediately because tenant has not setup payments and the subscribing plan carry a cost or the trial has ended</td>
</tr>
<tr>
<td>metadata</td>
<td>Record<string, string></td>
<td>Custom key value meta data that you can use</td>
</tr>
<tr>
<td>onboarded</td>
<td>string</td>
<td>If this tenant is considered onboarded</td>
</tr>
<tr>
<td>federationConnection</td>
<td>string</td>
<td>Assigned <a href="#federation-connection-model">Federation connection</a> id used for authentication. Part of Enterprise login.</td>
</tr>
<tr>
<td>signupBy</td>
<td>Object</td>
<td>Object containing email and name on the first tenant owner that was used when creating / signing up the new tenant</td>
</tr>
<tr>
<td>createdAt</td>
<td>string</td>
<td>Timestamp when created (Read only)</td>
</tr>
</tbody></table>
<h2 id='tenant-payment-status'>Tenant payment status</h2>
<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>shouldSelectPlan</td>
<td>boolean</td>
<td>The tenant should immediately select a plan. Redirect the owner to Subscription portal / select plan</td>
</tr>
<tr>
<td>shouldSetupPayments</td>
<td>boolean</td>
<td>The tenant should setup payment immediately because tenant has not setup payments and the subscribing plan carry a cost and the trial has ended. Redirect the owner to Subscription portal / select plan</td>
</tr>
<tr>
<td>paymentsEnabled</td>
<td>boolean</td>
<td>Payment method has been set up. Nblocks can bill this tenant</td>
</tr>
<tr>
<td>provider</td>
<td>string</td>
<td>The provider used for this tenant</td>
</tr>
</tbody></table>
<h2 id='tenant-payment-details'>Tenant payment details</h2>
<p>More in depth details about a tenants payment and subscription</p>

<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516f55b900518015dc98f3e"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"premium"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Premium"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a premium plan"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"trialDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-29T16:03:39.447Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trialDaysLeft"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td><a href="#tenant-payment-status">Tenant payment status</a></td>
<td>Current payment status</td>
</tr>
<tr>
<td>details</td>
<td><a href="#tenant-plan-details">Tenant plan Details</a></td>
<td>Details about the plan this tenant is subscribing to</td>
</tr>
</tbody></table>
<h2 id='tenant-plan-details'>Tenant plan details</h2>
<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516f55b900518015dc98f3e"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"premium"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Premium"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a premium plan"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trialDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-29T16:03:39.447Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trialDaysLeft"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>plan</td>
<td><a href="#plan-model">Plan</a></td>
<td>The plan this tenant subscribes to</td>
</tr>
<tr>
<td>price</td>
<td><a href="#price-model">Price</a></td>
<td>The price within the plan this tenant subscribes to</td>
</tr>
<tr>
<td>trial</td>
<td>boolean</td>
<td>If this tenant is currently trialing</td>
</tr>
<tr>
<td>trialDaysLeft</td>
<td>number</td>
<td>The number of days left until trial ends for this tenant</td>
</tr>
</tbody></table>
<h2 id='tenant-user-model'>Tenant user model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63cad6ac48dcba47e9322853"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consentsToPrivacyPolicy"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"teams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"cool_gang"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"lastSeen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-20T18:00:12.489Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356285"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEAM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"shouldSelectPlan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"shouldSetupPayments"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STRIPE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paymentsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nebulr AB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nebulr-group.github.io/nblocks-docs/img/logo.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signupBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w"> 
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-05T10:07:08.235Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Unique ID (Read only)</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Role of the user. Grants a set of privileges. The set of privileges is configured on the <code>Role</code> model.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email address</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>Username</td>
</tr>
<tr>
<td>firstName</td>
<td>string</td>
<td>Users first name</td>
</tr>
<tr>
<td>lastName</td>
<td>string</td>
<td>Users last name</td>
</tr>
<tr>
<td>fullName</td>
<td>string</td>
<td>Users full name (first name and last name concatenated)</td>
</tr>
<tr>
<td>onboarded</td>
<td>boolean</td>
<td>If user is onboarded or not</td>
</tr>
<tr>
<td>consentsToPrivacyPolicy</td>
<td>boolean</td>
<td>If user have left consent to the app privacy policy or not (should be set during app onboarding)</td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>If user should be allowed to login or not</td>
</tr>
<tr>
<td>teams</td>
<td>string[]</td>
<td>Array of identifiers that can be used to group several users into teams or groups</td>
</tr>
<tr>
<td>lastSeen</td>
<td>string</td>
<td>Timestamp for last user activity (Read only)</td>
</tr>
<tr>
<td>createdAt</td>
<td>string</td>
<td>Timestamp when created (Read only)</td>
</tr>
<tr>
<td>tenant</td>
<td><a href="#tenant-model">Tenant</a></td>
<td>The tenant</td>
</tr>
</tbody></table>
<h2 id='tokens-response'>Tokens response</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token_type</td>
<td>string</td>
<td>Token type</td>
</tr>
<tr>
<td>expires_in</td>
<td>number</td>
<td>Seconds before the access_token expires</td>
</tr>
<tr>
<td>access_token</td>
<td>string</td>
<td>(JWT) The access token containing authentication and access control data only)</td>
</tr>
<tr>
<td>refresh_token</td>
<td>string</td>
<td>(JWT) The token use for refreshing the access token before it expires app</td>
</tr>
<tr>
<td>id_token</td>
<td>string</td>
<td>(JWT) The OpenId Connect user profile id</td>
</tr>
<tr>
<td>user_profile</td>
<td>object</td>
<td>A decoded id_token JWT as JSON. Available in <a href="#shorthand-get-tokens">Shorthand get tokens</a> endpoint</td>
</tr>
</tbody></table>
<h2 id='access-token-model'>Access token model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63d25a9e0796d40008680f9a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TENANT_WRITE TENANT_READ USER_WRITE USER_READ AUTHENTICATED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"aid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"624c14cc0c01e70033356282"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63d25a9e0796d40008680f96"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Decoded JWT payload.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>string</td>
<td>User id</td>
</tr>
<tr>
<td>scope</td>
<td>string</td>
<td>User privileges</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>User role</td>
</tr>
<tr>
<td>aid</td>
<td>string</td>
<td>Your app id</td>
</tr>
<tr>
<td>tid</td>
<td>string</td>
<td>User tenant id</td>
</tr>
<tr>
<td>plan</td>
<td>string</td>
<td>User tenant plan key</td>
</tr>
</tbody></table>
<h2 id='id-token-model'>Id token model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63d25a9e0796d40008680f9a"</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"family_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"given_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"preferred_username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"onboarded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tenant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63d25a9e0796d40008680f96"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tenant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johns Family"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tenant_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tenant_logo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Decoded JWT payload.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sub</td>
<td>string</td>
<td>User id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Users full name</td>
</tr>
<tr>
<td>family_name</td>
<td>string</td>
<td>Users last name</td>
</tr>
<tr>
<td>given_name</td>
<td>string</td>
<td>Users first name</td>
</tr>
<tr>
<td>preferred_username</td>
<td>string</td>
<td>Username</td>
</tr>
<tr>
<td>locale</td>
<td>string</td>
<td>Users preferred locale</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>User email</td>
</tr>
<tr>
<td>email_verified</td>
<td>boolean</td>
<td>The users email address has been verified</td>
</tr>
<tr>
<td>onboarded</td>
<td>boolean</td>
<td>Have the user completed onboarding or not</td>
</tr>
<tr>
<td>tenant_id</td>
<td>string</td>
<td>Tenant id</td>
</tr>
<tr>
<td>tenant_name</td>
<td>string</td>
<td>Tenant name</td>
</tr>
<tr>
<td>tenant_locale</td>
<td>string</td>
<td>The preferred locale of the whole tenant</td>
</tr>
<tr>
<td>tenant_logo</td>
<td>string</td>
<td>Tenant logo URI</td>
</tr>
</tbody></table>
<h2 id='access-role-model'>Access role model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516a01891eca485bfc230ba"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OWNER"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The owner of the app"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"privileges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516a0ee38183223122704e3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTHENTICATED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Privilege for all authenticated users"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Unique ID (Read only)</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Role name. Presentable label of the role</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>Role key. Use this to reference the role in the <code>Tenant user</code> model</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Description text</td>
</tr>
<tr>
<td>privileges</td>
<td><a href="#access-privilege-model">Privileges[]</a></td>
<td>The set of privileges linked to this role</td>
</tr>
<tr>
<td>isDefault</td>
<td>boolean</td>
<td>If a role is default it will be applied to new tenant users. Only <strong>one</strong> role can be the default.</td>
</tr>
</tbody></table>
<h2 id='access-privilege-model'>Access privilege model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6516a0ee38183223122704e3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTHENTICATED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Privilege for all authenticated users"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Unique ID (Read only)</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>Privilege key. Use this to evaluate and grant user access</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Description text</td>
</tr>
</tbody></table>
<h2 id='federation-connection-model'>Federation connection model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6571edf9dc018000227ac449"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"saml"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foobar SAML"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"loginUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://anotherIdP.com/api/saml/sso"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END CERTIFICATE-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signedRequestAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"privateKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PRIVATE KEY-----</span><span class="se">\n</span><span class="s2">MIIC4jCCAcoCCQC33wuiuSThHpLKQQ==</span><span class="se">\n</span><span class="s2">-----END PRIVATE KEY-----"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-07T16:08:25.061Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Unique ID (Read only)</td>
</tr>
<tr>
<td>type</td>
<td><code>saml</code></td>
<td>The connection type. <code>saml</code> is the only supported type currently.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>A connection name. This will also be visible for users when logging in</td>
</tr>
<tr>
<td>clientId</td>
<td>string</td>
<td>The identifier assigned to your application by the IdP. This is sometimes not required</td>
</tr>
<tr>
<td>loginUrl</td>
<td>string</td>
<td>The URL where the IdP expects to receive SAML authentication requests</td>
</tr>
<tr>
<td>certificate</td>
<td>string</td>
<td>The public key certificate provided by the IdP to validate the SAML responses.</td>
</tr>
<tr>
<td>requestMethod</td>
<td><code>GET</code> or <code>POST</code></td>
<td>The preferred method for sending SAML requests, either HTTP GET Redirect (most common) or HTTP POST.</td>
</tr>
<tr>
<td>signedRequest</td>
<td>boolean</td>
<td>Whether the IdP requires the SAML request to be signed or not.</td>
</tr>
<tr>
<td>signedRequestAlgorithm</td>
<td><code>sha256</code> or <code>sha512</code></td>
<td>Request signing algorithm</td>
</tr>
<tr>
<td>privateKey</td>
<td>string</td>
<td>Request signing private key. The public key should be handover to IdP</td>
</tr>
<tr>
<td>createdAt</td>
<td>string</td>
<td>Timestamp when created (Read only)</td>
</tr>
</tbody></table>
<h2 id='import-tenant-response'>Import tenant response</h2>
<blockquote>
<p>Model example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SCHEDULED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"import"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"tenants"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"users"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"passwords"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"approved"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td>User context</td>
</tr>
<tr>
<td>import</td>
<td><a href="#validate-import-tenant-response">Validate response</a></td>
<td>A summary of the import and if there are any errors</td>
</tr>
</tbody></table>
<h2 id='validate-import-tenant-response'>Validate import tenant response</h2>
<blockquote>
<p>Model example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"tenants"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"users"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passwords"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"One or more users are missing an username"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"approved"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tenants</td>
<td>number</td>
<td>The total numbers of tenants that will be imported</td>
</tr>
<tr>
<td>users</td>
<td>number</td>
<td>The total numbers of users (across all tenants) that will be imported</td>
</tr>
<tr>
<td>passwords</td>
<td>boolean</td>
<td>If there will be any user credentials migrated during the import</td>
</tr>
<tr>
<td>errors</td>
<td>string[]</td>
<td>A list of errors. These errors are blocking the import</td>
</tr>
<tr>
<td>warnings</td>
<td>string[]</td>
<td>A list of warnings. These warnings are not blocking the import</td>
</tr>
<tr>
<td>approved</td>
<td>boolean</td>
<td>If the data will or was approved for import</td>
</tr>
</tbody></table>
<h2 id='plan-model'>Plan model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c548c29b15b62e681f28a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"premium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Premium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trial"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trialDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:34:52.248Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Unique ID (Read only)</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>Plan key, must be unique and cannot be changed. This is used identify the plan amongst subscribers and is used as argument during signup.</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the plan. Visible to customers</td>
</tr>
<tr>
<td>trial</td>
<td>string</td>
<td>If new subscribers should start with trial. When trialing, subscribers can subscribe to plans with costs without being charged</td>
</tr>
<tr>
<td>trialDays</td>
<td>number</td>
<td>The number of days before the trial expires</td>
</tr>
<tr>
<td>prices</td>
<td><a href="#price-model">Price[]</a></td>
<td>A list of prices which configures how this plan is offered</td>
</tr>
<tr>
<td>createdAt</td>
<td>string</td>
<td>Timestamp when created (Read only)</td>
</tr>
</tbody></table>
<h2 id='price-model'>Price model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"recurrenceInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"month"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>The amount for each recurring charge</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Three-letter ISO currency code. Must be a supported currency. https://www.iso.org/iso-4217-currency-codes.html</td>
</tr>
<tr>
<td>recurrenceInterval</td>
<td><code>&#39;day&#39;, &#39;month&#39;, &#39;week&#39;, &#39;year&#39;</code></td>
<td>An interval for how often the customer will be charged for the subscription / plan.</td>
</tr>
</tbody></table>
<h2 id='tax-model'>Tax model</h2>
<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"650c55b8ac7f396d770a98b1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"countryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VAT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-09-21T14:39:52.816Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Unique ID (Read only)</td>
</tr>
<tr>
<td>countryCode</td>
<td>string</td>
<td>Two-letter ISO country code. https://www.nationsonline.org/oneworld/country_code_list.htm</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the tax. Visible to customers</td>
</tr>
<tr>
<td>percentage</td>
<td>number</td>
<td>Percentage with which the sub total is increased with. <code>0</code> - <code>100</code></td>
</tr>
<tr>
<td>createdAt</td>
<td>string</td>
<td>Timestamp when created (Read only)</td>
</tr>
</tbody></table>
<h2 id='feature-flags-evaluation-context'>Feature flags evaluation context</h2>
<p>Fields marked in bold text will be auto resolved by Nblocks when providing a user access token.</p>

<blockquote>
<p>Model example:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63d2ab029e23db0afb07a5a7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom-user-trait"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66238feb99227400774266f5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PREMIUM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Workspace"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom-customer-trait"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"custom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"property1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"property2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"property3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>user</strong></td>
<td>UserContext</td>
<td>User context</td>
</tr>
<tr>
<td><strong>tenant</strong></td>
<td>TenantContext</td>
<td>Tenant context</td>
</tr>
<tr>
<td>device</td>
<td>KeyContext</td>
<td>Device context</td>
</tr>
<tr>
<td>device</td>
<td>KeyContext</td>
<td>Device context</td>
</tr>
<tr>
<td>custom</td>
<td>CustomContext</td>
<td>Custom context</td>
</tr>
</tbody></table>

<p><strong>UserContext</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong></td>
<td>string</td>
<td>User id</td>
</tr>
<tr>
<td><strong>email</strong></td>
<td>string</td>
<td>User email</td>
</tr>
<tr>
<td><strong>role</strong></td>
<td>string</td>
<td>User role</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>User name</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>Custom value</td>
</tr>
</tbody></table>

<p><strong>TenantContext</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong></td>
<td>string</td>
<td>Tenant id</td>
</tr>
<tr>
<td><strong>plan</strong></td>
<td>string</td>
<td>Tenant plan key</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Tenant name</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>Custom value</td>
</tr>
</tbody></table>

<p><strong>KeyContext</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>string</td>
<td>The value to be matched (==)</td>
</tr>
</tbody></table>

<p><strong>CustomContext</strong></p>

<p>The <code>custom</code> property is a map that allows developers to include any additional custom key-value pairs. 
Each key in the <code>custom</code> object should be a string, and the corresponding value should also be a string.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>key</em></td>
<td>string</td>
<td>Custom property name defined by the developer</td>
</tr>
<tr>
<td><em>value</em></td>
<td>string</td>
<td>Value associated with the custom property name</td>
</tr>
</tbody></table>
<h2 id='feature-flags-segment'>Feature flags segment</h2>
<blockquote>
<p>Model example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c6400fdaf20f0008e71b25"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admins"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This segment targets admins"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Unique ID (Read only)</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>Segment key. Use this to reference the segment in a flag</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Description text</td>
</tr>
<tr>
<td>targets</td>
<td><a href="#feature-flags-segment-target">Target</a>[]</td>
<td>The target which will be used to match</td>
</tr>
</tbody></table>
<h2 id='feature-flags-segment-target'>Feature flags segment target</h2>
<blockquote>
<p>Model example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contains"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"custom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"property1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lessThan"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"property2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contains"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foobar"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>UserTarget</td>
<td>Conditions on user level</td>
</tr>
<tr>
<td>tenant</td>
<td>TenantTarget</td>
<td>Conditions on tenant level</td>
</tr>
<tr>
<td>device</td>
<td>KeyTarget</td>
<td>Conditions on device level</td>
</tr>
<tr>
<td>custom</td>
<td>CustomTarget</td>
<td>Custom conditions</td>
</tr>
</tbody></table>

<p><strong>UserTarget</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>TargetValue</td>
<td>Custom value</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>User id</td>
</tr>
<tr>
<td>role</td>
<td>TargetValue</td>
<td>User role</td>
</tr>
<tr>
<td>name</td>
<td>TargetValue</td>
<td>User name</td>
</tr>
<tr>
<td>email</td>
<td>TargetValue</td>
<td>User email</td>
</tr>
</tbody></table>

<p><strong>TenantTarget</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>TargetValue</td>
<td>Custom value</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Tenant id</td>
</tr>
<tr>
<td>plan</td>
<td>TargetValue</td>
<td>Tenant plan key</td>
</tr>
<tr>
<td>name</td>
<td>TargetValue</td>
<td>Tenant name</td>
</tr>
</tbody></table>

<p><strong>CustomTarget</strong></p>

<p>The <code>custom</code> property is a map that allows developers to include any additional custom key and pair it a TargetValue. 
Each key in the <code>custom</code> object should be a string, and the corresponding value should be a TargetValue.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>key</em></td>
<td>string</td>
<td>Custom property name defined by the developer</td>
</tr>
<tr>
<td><em>value</em></td>
<td>TargetValue</td>
<td>Value associated with the custom property name</td>
</tr>
</tbody></table>

<p><strong>KeyTarget</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>TargetValue</td>
<td>The value to be matched</td>
</tr>
</tbody></table>

<p><strong>TargetValue</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>operator</td>
<td>Operator</td>
<td>The matching operator</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>The value to be matched using the operator</td>
</tr>
</tbody></table>

<p><strong>Operator</strong></p>

<table><thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>eq</td>
<td>It should be equal to the value (==)</td>
</tr>
<tr>
<td>beginsWith</td>
<td>It should begin with the value</td>
</tr>
<tr>
<td>endsWith</td>
<td>It should end with the value</td>
</tr>
<tr>
<td>contains</td>
<td>It should contain the value</td>
</tr>
<tr>
<td>lessThan</td>
<td>It should be less than the value</td>
</tr>
<tr>
<td>greaterThan</td>
<td>It should be greater than the value</td>
</tr>
</tbody></table>
<h2 id='feature-flags-flag'>Feature flags flag</h2>
<blockquote>
<p>Model example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c64cfb47418500082f60b5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone-feature"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A feature for iPhones"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"defaultValue"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64c63e7adaf20f0008e71b20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphones"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This segment targets iPhones"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iphone"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"targetValue"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Unique ID (Read only)</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>Flag key. Use this to reference the flag when evaluating</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Description text</td>
</tr>
<tr>
<td>defaultValue</td>
<td>boolean</td>
<td>The value to return if no segment was found or matched</td>
</tr>
<tr>
<td>segments</td>
<td><a href="#feature-flags-segment">Segment[]</a></td>
<td>The segments and matchers that are linked to this flag</td>
</tr>
<tr>
<td>targetValue</td>
<td>boolean</td>
<td>The value to return of a segment was matched</td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>Active state. Only enabled flags are available for evaluation. Otherwise evaluation falls back to false.</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>Nblocks uses the following errors to explain what went wrong. All APIs use this error schema.</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Error message</th>
</tr>
</thead><tbody>
<tr>
<td>NBLOCKS_CONFLICT</td>
<td>You cannot have two users with the same email in the same tenant.</td>
</tr>
<tr>
<td>NBLOCKS_USER_NOT_FOUND</td>
<td>User not found.</td>
</tr>
<tr>
<td>NBLOCKS_UNKNOWN_LOGIN_STRATEGY</td>
<td>Unknown login strategy.</td>
</tr>
<tr>
<td>NBLOCKS_UNKNOWN_APP_ID</td>
<td>App Id is missing.</td>
</tr>
<tr>
<td>NBLOCKS_APP_UNAUTHORIZED_EXCEPTION</td>
<td>App is unauthenticated. This usually means your APP API Key is not valid.</td>
</tr>
<tr>
<td>NBLOCKS_UNAUTHORIZED_EXCEPTION</td>
<td>User is unathenticated. Please login first.</td>
</tr>
<tr>
<td>INVALID_MFA_CODE_EXCEPTION</td>
<td>The MFA code your provided is invalid or expired.</td>
</tr>
<tr>
<td>NBLOCKS_FORBIDDEN_EXCEPTION</td>
<td>You do not have access to this resource.</td>
</tr>
<tr>
<td>NBLOCKS_FEATURE_FORBIDDEN_EXCEPTION</td>
<td>You do not have access to this feature.</td>
</tr>
<tr>
<td>NBLOCKS_MISSING_CREDENTIALS</td>
<td>Missing required variables to authorize.</td>
</tr>
<tr>
<td>NBLOCKS_MISSING_USERNAME</td>
<td>Missing username.</td>
</tr>
<tr>
<td>NBLOCKS_MISSING_APP</td>
<td>Missing app.</td>
</tr>
<tr>
<td>NBLOCKS_WRONG_CREDENTIALS</td>
<td>Wrong user credentials.</td>
</tr>
<tr>
<td>NBLOCKS_INVALID_AUTH_TOKEN</td>
<td>Invalid auth token.</td>
</tr>
<tr>
<td>NBLOCKS_INVALID_ROLE</td>
<td>The role you&#39;re changing to are not within your defined app roles.</td>
</tr>
<tr>
<td>NBLOCKS_OWNER_ROLE_MUST_EXIST</td>
<td>Your app must have the role OWNER.</td>
</tr>
<tr>
<td>NBLOCKS_NOT_FOUND_TENANT_EXCEPTION</td>
<td>Tenant do not exists</td>
</tr>
<tr>
<td>NBLOCKS_MISSING_REQUIRED_VARIABLES_EXCEPTION</td>
<td>You&#39;re missing some required variables or the ones you&#39;ve provided are not formated correctly</td>
</tr>
<tr>
<td>NBLOCKS_INVALID_OAUTH_SCOPE_ERROR</td>
<td>The scope requested are not allowed for this client</td>
</tr>
<tr>
<td>NBLOCKS_INVALID_REDIRECT_URI_ERROR</td>
<td>Invalid redirect_uri</td>
</tr>
<tr>
<td>NBLOCKS_INVALID_GRANT_TYPE_ERROR</td>
<td>Unsupported grant_type</td>
</tr>
<tr>
<td>NBLOCKS_INVALID_RESPONSE_TYPE_ERROR</td>
<td>Unsupported response_type</td>
</tr>
<tr>
<td>NBLOCKS_STRIPE_OUT_OF_SYNC_EXCEPTION</td>
<td>It seems that the the data in your stripe account don&#39;t match your business model. Update your business model to resync the integration</td>
</tr>
<tr>
<td>NBLOCKS_ERROR</td>
<td>An error occured. Please try again</td>
</tr>
</tbody></table>
<h1 id='changelog'>Changelog</h1><h2 id='4-august-2024'>4 August 2024</h2><h3 id='improved-user-tokens'>Improved user Tokens</h3>
<ul>
<li>Added more claims to <em>accessToken</em> and <em>idToken</em>.</li>
<li>Nblocks now exposes an <code>onboarded</code> property that can be set on both user and tenant level.</li>
</ul>
<h2 id='12-july-2024'>12 July 2024</h2><h3 id='feature-flags-improvements'>Feature flags improvements</h3>
<ul>
<li>Introducing new operators <code>lowerThan</code> and <code>greaterThan</code></li>
<li>Made it simpler to build AND / OR conditions with segments and flags.</li>
<li>Adding user email condition and context</li>
<li>Adding Custom context that allow developers to include any additional custom key-value pairs</li>
</ul>
<h3 id='manage-subscriptions-in-nblocks-admin'>Manage subscriptions in Nblocks Admin</h3>
<ul>
<li>Change workspace subscriptions directly from Nblocks Admin</li>
</ul>
<h2 id='18-june-2024'>18 June 2024</h2><h3 id='stability-amp-performance-improvements'>Stability &amp; Performance improvements</h3>
<ul>
<li>General performance improvements throught out all Nblocks APIs.</li>
<li>Nblocks React plugin: Adding greater support for older versions of React.</li>
</ul>
<h2 id='7-june-2024'>7 June 2024</h2><h3 id='enable-disable-user-signup'>Enable / disable user signup</h3>
<ul>
<li>Added toggle to either enable or disable user self signup through Nblocks UI.</li>
</ul>
<h2 id='19-may-2024'>19 May 2024</h2><h3 id='more-signin-signup-sso-providers'>More Signin / Signup SSO providers</h3>
<ul>
<li>Adding Facebook &amp; Github connections</li>
</ul>
<h3 id='magic-link-login'>Magic-link login</h3>
<ul>
<li>User can now authenticate with Magic-link.</li>
</ul>
<h2 id='4-may-2024'>4 May 2024</h2><h3 id='new-react-plugin'>New React plugin</h3>
<ul>
<li>Launching a new React plugin for a smoother Nblocks experience with React.</li>
</ul>
<h2 id='16-april-2024'>16 April 2024</h2><h3 id='improved-nblocks-admin'>Improved Nblocks Admin</h3>
<ul>
<li>Updates and improvements made to the interactive onboarding models in Nblocks Admin</li>
<li>Invite team members to your workspace to collaborate on apps</li>
</ul>
<h3 id='signin-signup-with-linkedin'>Signin / Signup with LinkedIn</h3>
<ul>
<li>You can now activate LinkedIn as a Social Login alternative.</li>
</ul>
<h2 id='23-march-2024'>23 March 2024</h2><h3 id='logout-via-auth-service'>Logout via Auth Service</h3>
<ul>
<li>A new <code>logout</code> endpoint made available to completely logout a user from OAuth 2.0 / OIDC flows. </li>
</ul>
<h2 id='21-feb-2024'>21 Feb 2024</h2><h3 id='delete-tenants-and-apps'>Delete tenants and apps</h3>
<ul>
<li>Tenants can now be completely deleted including its users and data.</li>
<li>Apps can also be deleted and will delete data and its tenants.</li>
<li>Delete operations can be initiated both from Nblocks Admin and via Rest APIs.</li>
</ul>
<h2 id='20-december-2023'>20 December 2023</h2><h3 id='enterprise-login'>Enterprise login</h3>
<ul>
<li>Adding SAML support as a new alternative login method</li>
<li>SAML can be setup using federation connections</li>
<li>Federation connection can be assigned to tenants as their primary login method</li>
</ul>
<h3 id='password-reset-flow'>Password reset flow</h3>
<ul>
<li>Admins can now more efficiently handle password reset requests</li>
</ul>
<h2 id='10-december-2023'>10 December 2023</h2><h3 id='nblocks-admin-interactive-onboarding'>Nblocks Admin interactive onboarding</h3>
<ul>
<li>It&#39;s now easier to integrate different Nblocks modules with ready made code snippets and interactive onboarding.</li>
</ul>
<h2 id='28-november-2023'>28 November 2023</h2><h3 id='adding-customizations-to-nblocks-admin'>Adding customizations to Nblocks Admin</h3>
<ul>
<li>Configure app properties such as name and logo</li>
<li>Create a custom theme for Nblocks hosted views</li>
<li>Set the sender name and email address for emails sent from Nblocks</li>
</ul>
<h3 id='breaking-changes'>Breaking changes:</h3>
<ul>
<li>https://backendless.nblocks.cloud

<ul>
<li>CSS endpoints are moved to https://admin-api.nblocks.cloud</li>
</ul></li>
</ul>
<h2 id='23-october-2023'>23 October 2023</h2><h3 id='payments-launch'>Payments Launch</h3>
<ul>
<li>Introducing Payments feature for seamless integration with billing providers to get paid while building with Nblocks.</li>
<li>Use pre-made components and build paywalls in no time.</li>
<li>Generate signup links to specific plans</li>
</ul>
<h2 id='9-october-2023'>9 October 2023</h2><h3 id='improved-access-controll'>Improved access controll</h3>
<ul>
<li>Enhancements to Roles and Privileges settings and simple configuration via Nblocks Admin.</li>
<li>Additional authentication options to fine-tune your users application access.</li>
</ul>
<h2 id='29-september-2023'>29 September 2023</h2><h3 id='passkeys-support'>Passkeys support</h3>
<ul>
<li>Strengthen your application security with Passkeys support for Nblocks login.</li>
</ul>
<h2 id='6-september-2023'>6 September 2023</h2><h3 id='improved-user-signup'>Improved user signup</h3>
<ul>
<li>Streamlined Signup Flow for your new users</li>
<li>Initiate signup flow via link</li>
</ul>
<h2 id='16-august-2023'>16 August 2023</h2><h3 id='feature-flags'>Feature Flags</h3>
<ul>
<li>Unveiling the Feature Flags functionality for controlled feature rollouts and experimentation.</li>
</ul>
<h2 id='july-2023'>July 2023</h2><h3 id='branding-for-user-management-portal'>Branding for User Management Portal</h3>
<ul>
<li>Personalize your User Management Portal with custom CSS and translations.</li>
</ul>
<h2 id='june-2023'>June 2023</h2><h3 id='embedding-user-management-portal'>Embedding User Management Portal</h3>
<ul>
<li>Seamlessly integrate the User Management Portal into your applications.</li>
<li>Google Single Sign-On (SSO)</li>
</ul>
<h2 id='may-2023'>May 2023</h2><h3 id='azure-ad-sso-and-marketplace-integration'>Azure AD SSO and Marketplace Integration</h3>
<ul>
<li>Introducing Azure AD Single Sign-On and seamless integration with the Azure Marketplace.</li>
<li>Trial Support for your application Plans</li>
</ul>
<h2 id='april-2023'>April 2023</h2><h3 id='improved-onboarding-information'>Improved Onboarding Information</h3>
<ul>
<li>Enhance user onboarding with improved information.</li>
<li><code>onboarded</code> Properties</li>
<li>Tailor a smoother onboarding experience with the addition of <code>onboarded</code> properties to both <code>tenantUser</code> and <code>tenant</code> objects.</li>
</ul>
<h2 id='march-2023'>March 2023</h2><h3 id='brandable-email-templates'>Brandable Email Templates</h3>
<ul>
<li>Customize your branding with brandable email templates.</li>
<li>Communication API Enhancements</li>
<li>Empower developers to change default email templates, achieving a fully customized branding experience.</li>
</ul>
<h2 id='october-2023'>October 2023</h2>
<ul>
<li>Launch of Payments</li>
<li>Improvements to Roles and privileges</li>
<li>Adding more granular control for authentication options</li>
</ul>
<h2 id='september-2023'>September 2023</h2>
<ul>
<li>Passkeys support for Nblocks login</li>
<li>Added signup flow</li>
</ul>
<h2 id='august-2023'>August 2023</h2>
<ul>
<li>Launch of Feature flags.</li>
</ul>
<h2 id='july-2023-2'>July 2023</h2>
<ul>
<li>Brandning of User management portal with CSS and translations</li>
</ul>
<h2 id='june-2023-2'>June 2023</h2>
<ul>
<li>Support for embedding User management portal</li>
<li>Google SSO</li>
</ul>
<h2 id='may-2023-2'>May 2023</h2>
<ul>
<li>Introduction of Azure AD SSO and Azure Marketplace integration.</li>
<li>Trial support for your plans</li>
</ul>
<h2 id='april-2023-2'>April 2023</h2>
<ul>
<li>Improving onboarding information</li>
<li>Adding the <code>onboarded</code> properties to both <code>tenantUser</code> and <code>tenant</code> objects so it&#39;s simpler to tailor a good onboarding.</li>
</ul>
<h2 id='march-2023-2'>March 2023</h2>
<ul>
<li>Brandable email templates</li>
<li>Enable developers to change the default email templates from the communication api to accomplish a fully customized branding.</li>
</ul>
<h2 id='february-2023'>February 2023</h2>
<p>Launching Auth service, Backendless and Cloud views.</p>

<p>Auth service: Oauth 2.0 login, JWTs and callback/handover functionality.
Cloud views: Login flow so that any tech stack can use Nblocks login.
Backendless: Powers cloud views but also any Nblocks UI plugin.</p>

<p>Adding the <code>cloudviews</code> property to turn on/off this functionality to <code>app</code> profile.</p>
<h3 id='affected-apis'>Affected APIs:</h3>
<ul>
<li>https://auth.nblocks.cloud</li>
<li>https://account-api.nebulr-core.com</li>
</ul>
<h2 id='october-2022'>October 2022</h2>
<p>PDF generation</p>
<h3 id='affected-apis-2'>Affected APIs:</h3>
<ul>
<li>https://file-api.nebulr-core.com</li>
<li></li>
</ul>
<h2 id='september-2022'>September 2022</h2>
<p>Cloud hosted checkout view for simpler integration with Stripe</p>

<ul>
<li>https://account-api.nebulr-core.com</li>
</ul>
<h3 id='affected-apis-3'>Affected APIs:</h3><h2 id='august-2022'>August 2022</h2>
<p>File storage meta data cleansing support</p>
<h3 id='affected-apis-4'>Affected APIs:</h3>
<ul>
<li>https://file-api.nebulr-core.com</li>
</ul>
<h2 id='may-2022'>May 2022</h2>
<p>Launching voice call redirect api.</p>

<p>Now you can expose a phone number and configure a rule set how and to which recipients this call should be routed to.</p>

<p>Adding <code>listVoiceRedirectRules</code>, <code>createVoiceRedirectRule</code>, <code>updateVoiceRedirectRule</code>, <code>deleteVoiceRedirectRule</code>, <code>listVoiceRedirectErrors</code>.</p>
<h3 id='affected-apis-5'>Affected APIs:</h3>
<ul>
<li>https://communication-api.nebulr-core.com</li>
</ul>
<h2 id='february-2022'>February 2022</h2>
<ul>
<li>MFA support</li>
</ul>
<h2 id='january-2022'>January 2022</h2>
<ul>
<li>Custom email sender</li>
<li>Default role for new users</li>
</ul>
<h2 id='december-2021'>December 2021</h2>
<p>Soft launch</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="typescript">Typescript</a>
          </div>
      </div>
    </div>
  </body>
</html>
